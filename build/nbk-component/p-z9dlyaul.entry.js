import{r as t,c as s,h as e,g as i}from"./p-05c16912.js";import{S as n}from"./p-6ea92d75.js";const h=class{constructor(e){t(this,e),this.dx=0,this.dy=0,this.bgurl="",this.btnList=[],this.activeIndex=0,this.x=0,this.y=0,this.dargMove=t=>{if(!this.isDarging)return;if(!t.clientX&&t.touches){const s=t.touches[0];t.clientX=s.clientX,t.clientY=s.clientY}let{clientX:s,clientY:e}=t;this.dx+=s-this.lastX,this.dy+=e-this.lastY,this.lastX=s,this.lastY=e},this.dargEnd=()=>{this.isDarging=!1,document.removeEventListener("touchend",this.dargEnd),document.removeEventListener("touchmove",this.dargMove),document.removeEventListener("mouseup",this.dargEnd),document.removeEventListener("mousemove",this.dargMove)},this.itemClick=s(this,"itemClick",7)}getbgurl(){return""==this.bgurl?null:{backgroundImage:`url(${this.bgurl})`}}componentWillLoad(){const t=n.getInstance();this.supportsPassiveOption=t.supportsPassiveOption}async detectChanges(){this.state=Math.random()}startDarg(t){this.isDarging=!0,this.lastX=t.clientX,this.lastY=t.clientY,this.supportsPassiveOption?(document.addEventListener("touchend",this.dargEnd,{passive:!1}),document.addEventListener("touchmove",this.dargMove,{passive:!1})):(document.addEventListener("touchend",this.dargEnd),document.addEventListener("touchmove",this.dargMove)),document.addEventListener("mouseup",this.dargEnd),document.addEventListener("mousemove",this.dargMove)}getListBtns(){return this.btnList.map(t=>e("nb-touch-cell",{class:t.cla+(t.index===this.activeIndex?" active":"")+(t.disabled||t.deny?" div-alpha ":""),onNbMouseDown:"start-h"===t.cla?t=>{this.startDarg(t.detail)}:void 0,style:Object.assign({pointerEvents:t.disabled||this.isDarging?"none":"auto"},"btn-h"!==t.cla&&"start-h"!==t.cla?this.getbgurl():{}),onClick:s=>this.itemClick.emit({evt:s,data:t})},(()=>{if(t.hasOwnProperty("deny")&&t.deny){const s=e("div",{class:"div-deny"});return t.domObjTemp=s,Object.defineProperty(t,"dom",{get:function(){return this.domObjTemp.t}}),s}})()))}render(){return e("div",{class:"nb-bar-box",style:{transform:`translate(${this.dx}px, ${this.dy}px)`}},this.getListBtns(),e("slot",{name:"bar-base-bind"}))}get ele(){return i(this)}static get style(){return"nb-bar-base .nb-bar-box{position:absolute;display:-ms-inline-flexbox;display:inline-flex;padding-right:12px;height:44px;background:#23272b;border-radius:8px}nb-bar-base .start-h{width:20px;height:100%;position:relative;cursor:move}nb-bar-base .start-h:after{content:\"\";display:block;background:#fff;opacity:.2;position:absolute;right:2px;top:10px;width:5px;height:24px;border-radius:2px}nb-bar-base .btn-h{width:1px;height:28px;background:#4a4a4a;margin-left:14px;margin-top:10px;margin-right:2px}"}},a=class{constructor(e){t(this,e),this.settingList=[],this.pointLeft=0,this.sizeIndex=0,this.colorIndex=0,this.skin="phy",this.Index=0,this.settingChange=s(this,"settingChange",7)}componentDidLoad(){}changeState(t,{type:s,index:e,value:i}){switch(s){case"size":if(this.sizeIndex===e)return;this.settingChange.emit({flag:this.flag,type:s,index:e,value:i});break;case"color":if(this.colorIndex===e)return;this.settingChange.emit({flag:this.flag,type:s,index:e,value:i})}}creatSettingDom(){return this.settingList.map(t=>{let{type:s,item:i}=t;if(s)switch(s){case"|":return e("span",{class:"segmentation"});case"size":return i.map((t,i)=>e("span",{class:"item"},e("span",{class:"sizeBox",onClick:e=>{this.changeState(e,{type:s,index:i,value:t})}},e("span",{class:"size size"+t+" "+(i===this.sizeIndex?"active":"")}))));case"color":return i.map((t,i)=>e("span",{class:"item"},e("span",{class:"color "+(i===this.colorIndex?"active":""),style:{backgroundColor:t},onClick:e=>{this.changeState(e,{type:s,index:i,value:t})}})))}})}render(){return e("div",{class:"setting "+this.skin},this.creatSettingDom(),e("div",{class:"pointed",style:{left:this.pointLeft}}))}get el(){return i(this)}static get style(){return".choose{background-position:0 -18px}.choose,.ellipse{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:9px;height:9px}.ellipse{background-position:0 -32px}.ketuodong{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -93px;width:4px;height:23px}.menu_icon_arrow_def{background-position:0 -527px}.menu_icon_arrow_def,.menu_icon_arrow_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_arrow_hov{background-position:0 -556px}.menu_icon_arrow_pre{background-position:0 -585px}.menu_icon_arrow_pre,.menu_icon_brush_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_brush_def{background-position:0 -614px}.menu_icon_brush_hov{background-position:0 -121px}.menu_icon_brush_hov,.menu_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_brush_pre{background-position:0 -150px}.menu_icon_cancel_def{background-position:0 -179px}.menu_icon_cancel_def,.menu_icon_cancel_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_cancel_hov{background-position:0 -208px}.menu_icon_cancel_pre{background-position:0 -237px}.menu_icon_cancel_pre,.menu_icon_delate_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_delate_def{background-position:0 -266px}.menu_icon_delate_hov{background-position:0 -295px}.menu_icon_delate_hov,.menu_icon_delate_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_delate_pre{background-position:0 -324px}.menu_icon_jinyong_def{background-position:0 -353px}.menu_icon_jinyong_def,.menu_icon_jinyong_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_jinyong_hov{background-position:0 -382px}.menu_icon_jinyong_pre{background-position:0 -411px}.menu_icon_jinyong_pre,.menu_icon_reaser_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_reaser_def{background-position:0 -440px}.menu_icon_reaser_hov{background-position:0 -469px}.menu_icon_reaser_hov,.menu_icon_reaser_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_reaser_pre{background-position:0 -498px}.ok,.setting .item .color:after{background-position:0 0}.ok,.path,.setting .item .color:after{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:6px;height:4px}.path{background-position:0 -9px}.pen{background-position:0 -69px;width:19px;height:19px}.pen,.rubber{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat}.rubber{background-position:0 -46px;width:18px;height:18px}.toolbar_icon_brush_def{background-position:0 -643px}.toolbar_icon_brush_def,.toolbar_icon_brush_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_hov{background-position:0 -682px}.toolbar_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -721px;width:34px;height:34px}.chem .color:after,.chem .size.active,.chem .size:hover{background-color:#2f8cea!important}.setting{display:-ms-inline-flexbox;display:inline-flex;height:34px;background:rgba(22,23,24,.79);border-radius:8px;padding:0 5px}.setting .item{width:30px;height:34px}.setting .item,.setting .item .sizeBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.setting .item .sizeBox{width:16px;height:16px;cursor:pointer}.setting .item .sizeBox .size{background:#ccc;border-radius:50%}.setting .item .sizeBox .size.size1{width:6px;height:6px}.setting .item .sizeBox .size.size2{width:10px;height:10px}.setting .item .sizeBox .size.size3{width:14px;height:14px}.setting .item .sizeBox .size.active,.setting .item .sizeBox .size:hover{background-color:#ff7e30}.setting .item :nth-child(n){cursor:pointer}.setting .item .color{width:16px;height:16px;border-radius:1px;position:relative}.setting .item .color:after{content:\"\";position:absolute;left:100%;top:100%;display:block;height:5px;width:5px;margin:-3px;visibility:hidden;background-color:#ff7e30;-webkit-box-shadow:0 0 1px #fff;box-shadow:0 0 1px #fff;-webkit-transform:scale(1.5);transform:scale(1.5);border-radius:50%}.setting .item .color.active:after,.setting .item .color:hover:after{visibility:visible}.setting .segmentation{margin:9px 4px;width:1px;height:14px;background:hsla(0,0%,100%,.2)}.setting .pointed{position:absolute;top:100%;left:0;border:6px solid;border-color:rgba(22,23,24,.79) transparent transparent transparent}"}};export{h as nb_bar_base,a as nb_brush_setting};