import{r as t,c as s,h as i,g as e}from"./p-05c16912.js";import{D as n}from"./p-e34c4f58.js";const h=class{constructor(i){t(this,i),this.btnList=[{index:0,cla:"start-h"},{index:1,cla:"bush-pen",command:"pen"},{index:3,cla:"bush-reaser",command:"reaser"},{index:7,cla:"bush-jinyong",command:"jinyong"},{index:5,cla:"btn-h"},{index:6,cla:"bush-cancel",command:"cancel"},{index:4,cla:"bush-delate",command:"delate"},{index:8,cla:"start-h"}],this.sizes=[1,2,3],this.colors=["#2D8AE6","#FF7E30","#FFCF50","#27CC2A","#FFFFFF"],this.penSetting=[{type:"size",item:this.sizes},{type:"|"},{type:"color",item:this.colors}],this.reaserSetting=[{type:"size",item:this.sizes}],this.skinUrl={chem:"assets/imgs/nbk/nbk_nb-brush-chem_sprite.png",phy:"assets/imgs/nbk/nbk_nb-brush_sprite.png"},this.skin="phy",this.defaultColor=0,this.skinurl=this.skinUrl[this.skin],this.activeIndex=1,this.penSizeIndex=0,this.penColorIndex=0,this.arrowSizeIndex=0,this.arrowColorIndex=0,this.reaserSizeIndex=0,this.submuneVisible=!0,this.brushSettingChange=s(this,"brushSettingChange",7),this.brushToolChange=s(this,"brushToolChange",7)}async getSetting(){return{penSize:this.sizes[this.penSizeIndex],penColor:this.colors[this.penColorIndex],arrowSize:this.sizes[this.arrowSizeIndex],arrowColor:this.colors[this.arrowColorIndex],reaserSize:this.sizes[this.reaserSizeIndex],active:this.activeIndex}}async setSubmuneVisible(t){this.submuneVisible=t}async resetAll(t=!0,s=null){this.activeIndex=1,this.penSizeIndex=0,this.penColorIndex=this.defaultColor,this.arrowSizeIndex=0,this.arrowColorIndex=this.defaultColor,this.reaserSizeIndex=0,this.settingChangeHander(s?{detail:s.color}:{detail:{type:"color",index:0,flag:1}}),this.settingChangeHander({detail:{type:"size",index:0,flag:1}}),t&&this.brushToolChange.emit({type:"pen"})}settingChangeHander(t){let{type:s,index:i,flag:e}=t.detail;const n={1:"pen",2:"arrow",3:"reaser"},h={color:"Color",size:"Size"};void 0!==i?this[n[e]+h[s]+"Index"]=i:i=this[n[e]+h[s]+"Index"],this.brushSettingChange.emit({tool:n[e],attr:s,value:this[s+"s"][i]})}async itemClick(t){let{index:s,command:i}=t.detail.data;this.activeIndex!==s&&[1,2,3,7].includes(s)&&(this.activeIndex=s),this.brushToolChange.emit({type:i}),[1,2,3].includes(s)&&(this.settingChangeHander({detail:{type:"size",index:void 0,flag:s}}),3!==s&&this.settingChangeHander({detail:{type:"color",index:void 0,flag:s}}),this.submuneVisible=!0)}componentWillLoad(){this.penColorIndex=this.defaultColor,this.arrowColorIndex=this.defaultColor}getSubMnueDom(){if(this.submuneVisible)switch(this.activeIndex){case 1:return i("nb-brush-setting",{skin:this.skin,flag:1,sizeIndex:this.penSizeIndex,colorIndex:this.penColorIndex,class:"sunMnue",settingList:this.penSetting,pointLeft:"15%"});case 2:return i("nb-brush-setting",{skin:this.skin,flag:2,sizeIndex:this.arrowSizeIndex,colorIndex:this.arrowColorIndex,class:"sunMnue",settingList:this.penSetting,pointLeft:"26%"});case 3:return i("nb-brush-setting",{skin:this.skin,flag:3,sizeIndex:this.reaserSizeIndex,class:"sunMnue reaserSetting",settingList:this.reaserSetting,pointLeft:"44%"})}}render(){return i("div",{class:"brush"},i("nb-bar-base",{bgurl:this.skinurl,btnList:this.btnList,onItemClick:t=>this.itemClick(t),activeIndex:this.activeIndex},i("div",{slot:"bar-base-bind"},this.getSubMnueDom())))}static get style(){return".choose{background-position:0 -18px}.choose,.ellipse{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:9px;height:9px}.ellipse{background-position:0 -32px}.ketuodong{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -93px;width:4px;height:23px}.bush-arrow,.menu_icon_arrow_def{background-position:0 -527px}.bush-arrow,.bush-arrow:hover,.menu_icon_arrow_def,.menu_icon_arrow_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-arrow:hover,.menu_icon_arrow_hov{background-position:0 -556px}.bush-arrow.active,.bush-arrow:active,.menu_icon_arrow_pre{background-position:0 -585px}.bush-arrow.active,.bush-arrow:active,.bush-pen,.menu_icon_arrow_pre,.menu_icon_brush_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-pen,.menu_icon_brush_def{background-position:0 -614px}.bush-pen:hover,.menu_icon_brush_hov{background-position:0 -121px}.bush-pen.active,.bush-pen:active,.bush-pen:hover,.menu_icon_brush_hov,.menu_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-pen.active,.bush-pen:active,.menu_icon_brush_pre{background-position:0 -150px}.bush-cancel,.menu_icon_cancel_def{background-position:0 -179px}.bush-cancel,.bush-cancel:hover,.menu_icon_cancel_def,.menu_icon_cancel_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-cancel:hover,.menu_icon_cancel_hov{background-position:0 -208px}.bush-cancel:active,.menu_icon_cancel_pre{background-position:0 -237px}.bush-cancel:active,.bush-delate,.menu_icon_cancel_pre,.menu_icon_delate_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-delate,.menu_icon_delate_def{background-position:0 -266px}.bush-delate:hover,.menu_icon_delate_hov{background-position:0 -295px}.bush-delate:active,.bush-delate:hover,.menu_icon_delate_hov,.menu_icon_delate_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-delate:active,.menu_icon_delate_pre{background-position:0 -324px}.bush-jinyong,.menu_icon_jinyong_def{background-position:0 -353px}.bush-jinyong,.bush-jinyong:hover,.menu_icon_jinyong_def,.menu_icon_jinyong_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-jinyong:hover,.menu_icon_jinyong_hov{background-position:0 -382px}.bush-jinyong.active,.bush-jinyong:active,.menu_icon_jinyong_pre{background-position:0 -411px}.bush-jinyong.active,.bush-jinyong:active,.bush-reaser,.menu_icon_jinyong_pre,.menu_icon_reaser_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-reaser,.menu_icon_reaser_def{background-position:0 -440px}.bush-reaser:hover,.menu_icon_reaser_hov{background-position:0 -469px}.bush-reaser.active,.bush-reaser:active,.bush-reaser:hover,.menu_icon_reaser_hov,.menu_icon_reaser_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-reaser.active,.bush-reaser:active,.menu_icon_reaser_pre{background-position:0 -498px}.ok{background-position:0 0}.ok,.path{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:6px;height:4px}.path{background-position:0 -9px}.pen{background-position:0 -69px;width:19px;height:19px}.pen,.rubber{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat}.rubber{background-position:0 -46px;width:18px;height:18px}.toolbar_icon_brush_def{background-position:0 -643px}.toolbar_icon_brush_def,.toolbar_icon_brush_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_hov{background-position:0 -682px}.toolbar_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -721px;width:34px;height:34px}.brush{position:relative}.bush-arrow,.bush-cancel,.bush-delate,.bush-jinyong,.bush-pen,.bush-reaser,.flex-btn-base{margin-top:10px;margin-left:14px;cursor:pointer}.sunMnue{position:absolute;top:-42px;left:0}.sunMnue.reaserSetting{left:37px}"}},a=class{constructor(i){t(this,i),this.isPlayer=!1,this.contentStyle={},this.penActive=!1,this.lockSkin="unlockbtn",this.penSkin="penbtn",this.lockstate=!1,this.tempOpen=!1,this.penClick=s(this,"penClick",7),this.lockClick=s(this,"lockClick",7)}async getState(){return{lock:this.lockstate,pen:this.penActive}}async reset(){this.penActive=!1,this.lockSkin="unlockbtn",this.penSkin="penbtn",this.lockstate=!1,this.tempOpen=!1}componentWillLoad(){}componentDidLoad(){this.freshLocation()}async freshLocation(){if(this.isPlayer)return;const t=n.domQuerySelector(document.body,".scale-cla");if(!t)return;const s=t.getBoundingClientRect();this.contentStyle={left:`${s.right+20}px`,top:`${s.top}px`}}componentDidUnload(){}winresizeChange(){this.freshLocation()}async lockBtnClick(t){if(t&&"object"==typeof t)t.tmpunlock&&(this.tempOpen=!0,this.lockstate=!0);else if(null!=t)return this.lockstate=t,this.tempOpen=!1,this.lockSkin=this.lockstate?"lock_close_def":"unlock_close_def",void this.lockClick.emit(this.lockstate);this.penActive&&!this.tempOpen||(this.lockstate=!this.lockstate,this.lockSkin=this.lockstate?"lockbtn":"unlockbtn",this.lockClick.emit(this.lockstate))}penBtnClick(){this.penActive=!this.penActive,this.penSkin=this.penActive?"toolbar_icon_brush_pre":"penbtn",this.penClick.emit(this.penActive)}render(){return i("div",{class:"lc-content",style:this.contentStyle},i("div",{class:this.isPlayer?"btnClass":"btnClass bgclass",onClick:()=>{this.lockBtnClick()}},i("div",{class:this.lockSkin+" basebtn"})),i("div",{class:this.isPlayer?"btnClass":"btnClass bgclass",onClick:()=>{this.penBtnClick()}},i("div",{class:this.penSkin+" basebtn"})))}get element(){return e(this)}static get style(){return".lock_close_def,:host .lc-content .lockbtn{background-position:0 0}.lock_close_def,.lock_close_hov,:host .lc-content .lockbtn,:host .lc-content .lockbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.lock_close_hov,:host .lc-content .lockbtn:hover{background-position:0 -39px}.lock_close_pre,:host .lc-content .lockbtn:active{background-position:0 -78px}.lock_close_pre,.toolbar_icon_brush_def,:host .lc-content .lockbtn:active,:host .lc-content .penbtn{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_def,:host .lc-content .penbtn{background-position:0 -117px}.toolbar_icon_brush_hov,:host .lc-content .penbtn:hover{background-position:0 -156px}.toolbar_icon_brush_hov,.toolbar_icon_brush_pre,:host .lc-content .penbtn:active,:host .lc-content .penbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_pre,:host .lc-content .penbtn:active{background-position:0 -195px}.unlock_close_def,:host .lc-content .unlockbtn{background-position:0 -234px}.unlock_close_def,.unlock_close_hov,:host .lc-content .unlockbtn,:host .lc-content .unlockbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.unlock_close_hov,:host .lc-content .unlockbtn:hover{background-position:0 -273px}.unlock_close_pre,:host .lc-content .unlockbtn:active{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;background-position:0 -312px;width:34px;height:34px}:host .lc-content{pointer-events:auto;position:absolute;width:92px}:host .lc-content .bgclass{background:#212529;border-radius:6px;padding:0 2px}:host .lc-content .btnClass{display:inline-block}:host .lc-content .btnClass:first-child{margin-right:16px}:host .lc-content .basebtn{display:inline-block}"}};export{h as nb_brush,a as nb_lock_pen};