var __awaiter=this&&this.__awaiter||function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,s){function o(t){try{u(i.next(t))}catch(e){s(e)}}function a(t){try{u(i["throw"](t))}catch(e){s(e)}}function u(t){t.done?n(t.value):r(t.value).then(o,a)}u((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,r&&(s=o[0]&2?r["return"]:o[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;if(r=0,s)o=[o[0]&2,s.value];switch(o[0]){case 0:case 1:s=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;r=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(o[0]===6&&n.label<s[1]){n.label=s[1];s=o;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(o);break}if(s[2])n.ops.pop();n.trys.pop();continue}o=e.call(t,n)}catch(a){o=[6,a];r=0}finally{i=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-7243f468.system.js","./p-3fa219de.system.js"],(function(t){"use strict";var e,n,i,r,s;return{setters:[function(t){e=t.r;n=t.c;i=t.h;r=t.g},function(t){s=t.S}],execute:function(){var o=t("nb_bar_base",function(){function t(t){var i=this;e(this,t);this.dx=0;this.dy=0;this.bgurl="";this.btnList=[];this.activeIndex=0;this.x=0;this.y=0;this.dargMove=function(t){if(!i.isDarging){return}if(!t.clientX&&t.touches){var e=t.touches[0];t.clientX=e.clientX;t.clientY=e.clientY}var n=t.clientX,r=t.clientY;i.dx+=n-i.lastX;i.dy+=r-i.lastY;i.lastX=n;i.lastY=r};this.dargEnd=function(t){i.isDarging=false;document.removeEventListener("touchend",i.dargEnd);document.removeEventListener("touchmove",i.dargMove);document.removeEventListener("mouseup",i.dargEnd);document.removeEventListener("mousemove",i.dargMove)};this.itemClick=n(this,"itemClick",7)}t.prototype.getbgurl=function(){if(this.bgurl==""){return null}return{backgroundImage:"url("+this.bgurl+")"}};t.prototype.componentWillLoad=function(){var t=s.getInstance();this.supportsPassiveOption=t.supportsPassiveOption};t.prototype.detectChanges=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.state=Math.random();return[2]}))}))};t.prototype.startDarg=function(t){this.isDarging=true;this.lastX=t.clientX;this.lastY=t.clientY;if(this.supportsPassiveOption){document.addEventListener("touchend",this.dargEnd,{passive:false});document.addEventListener("touchmove",this.dargMove,{passive:false})}else{document.addEventListener("touchend",this.dargEnd);document.addEventListener("touchmove",this.dargMove)}document.addEventListener("mouseup",this.dargEnd);document.addEventListener("mousemove",this.dargMove)};t.prototype.getListBtns=function(){var t=this;return this.btnList.map((function(e,n){return i("nb-touch-cell",{class:e.cla+(e.index===t.activeIndex?" active":"")+(e.disabled||e.deny?" div-alpha ":""),onNbMouseDown:e.cla==="start-h"?function(e){t.startDarg(e.detail)}:undefined,style:Object.assign({pointerEvents:e.disabled||t.isDarging?"none":"auto"},e.cla!=="btn-h"&&e.cla!=="start-h"?t.getbgurl():{}),onClick:function(n){return t.itemClick.emit({evt:n,data:e})}},function(){if(e.hasOwnProperty("deny")&&e.deny){var t=i("div",{class:"div-deny"});e.domObjTemp=t;Object.defineProperty(e,"dom",{get:function(){return this.domObjTemp.$elm$}});return t}}())}))};t.prototype.render=function(){return i("div",{class:"nb-bar-box",style:{transform:"translate("+this.dx+"px, "+this.dy+"px)"}},this.getListBtns(),i("slot",{name:"bar-base-bind"}))};Object.defineProperty(t.prototype,"ele",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"nb-bar-base .nb-bar-box{position:absolute;display:-ms-inline-flexbox;display:inline-flex;padding-right:12px;height:44px;background:#23272b;border-radius:8px}nb-bar-base .start-h{width:20px;height:100%;position:relative;cursor:move}nb-bar-base .start-h:after{content:\"\";display:block;background:#fff;opacity:.2;position:absolute;right:2px;top:10px;width:5px;height:24px;border-radius:2px}nb-bar-base .btn-h{width:1px;height:28px;background:#4a4a4a;margin-left:14px;margin-top:10px;margin-right:2px}"},enumerable:true,configurable:true});return t}());var a=t("nb_brush_setting",function(){function t(t){e(this,t);this.settingList=[];this.pointLeft=0;this.sizeIndex=0;this.colorIndex=0;this.skin="phy";this.Index=0;this.settingChange=n(this,"settingChange",7)}t.prototype.componentDidLoad=function(){};t.prototype.changeState=function(t,e){var n=e.type,i=e.index,r=e.value;switch(n){case"size":{if(this.sizeIndex===i){return}this.settingChange.emit({flag:this.flag,type:n,index:i,value:r});break}case"color":{if(this.colorIndex===i){return}this.settingChange.emit({flag:this.flag,type:n,index:i,value:r});break}}};t.prototype.creatSettingDom=function(){var t=this;var e=this.settingList.length;return this.settingList.map((function(n,r){var s=n.type,o=n.item;if(!s){return}switch(s){case"|":{return i("span",{class:"segmentation"})}case"size":{return o.map((function(e,n){return i("span",{class:"item"},i("span",{class:"sizeBox",onClick:function(i){t.changeState(i,{type:s,index:n,value:e})}},i("span",{class:"size size"+e+" "+(n===t.sizeIndex?"active":"")})))}))}case"color":{return o.map((function(e,n){return i("span",{class:"item"},i("span",{class:"color "+(n===t.colorIndex?"active":""),style:{backgroundColor:e},onClick:function(i){t.changeState(i,{type:s,index:n,value:e})}}))}))}}if(r<e){return}}))};t.prototype.render=function(){return i("div",{class:"setting "+this.skin},this.creatSettingDom(),i("div",{class:"pointed",style:{left:this.pointLeft}}))};Object.defineProperty(t.prototype,"el",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".choose{background-position:0 -18px}.choose,.ellipse{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:9px;height:9px}.ellipse{background-position:0 -32px}.ketuodong{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -93px;width:4px;height:23px}.menu_icon_arrow_def{background-position:0 -527px}.menu_icon_arrow_def,.menu_icon_arrow_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_arrow_hov{background-position:0 -556px}.menu_icon_arrow_pre{background-position:0 -585px}.menu_icon_arrow_pre,.menu_icon_brush_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_brush_def{background-position:0 -614px}.menu_icon_brush_hov{background-position:0 -121px}.menu_icon_brush_hov,.menu_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_brush_pre{background-position:0 -150px}.menu_icon_cancel_def{background-position:0 -179px}.menu_icon_cancel_def,.menu_icon_cancel_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_cancel_hov{background-position:0 -208px}.menu_icon_cancel_pre{background-position:0 -237px}.menu_icon_cancel_pre,.menu_icon_delate_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_delate_def{background-position:0 -266px}.menu_icon_delate_hov{background-position:0 -295px}.menu_icon_delate_hov,.menu_icon_delate_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_delate_pre{background-position:0 -324px}.menu_icon_jinyong_def{background-position:0 -353px}.menu_icon_jinyong_def,.menu_icon_jinyong_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_jinyong_hov{background-position:0 -382px}.menu_icon_jinyong_pre{background-position:0 -411px}.menu_icon_jinyong_pre,.menu_icon_reaser_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_reaser_def{background-position:0 -440px}.menu_icon_reaser_hov{background-position:0 -469px}.menu_icon_reaser_hov,.menu_icon_reaser_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.menu_icon_reaser_pre{background-position:0 -498px}.ok,.setting .item .color:after{background-position:0 0}.ok,.path,.setting .item .color:after{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:6px;height:4px}.path{background-position:0 -9px}.pen{background-position:0 -69px;width:19px;height:19px}.pen,.rubber{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat}.rubber{background-position:0 -46px;width:18px;height:18px}.toolbar_icon_brush_def{background-position:0 -643px}.toolbar_icon_brush_def,.toolbar_icon_brush_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_hov{background-position:0 -682px}.toolbar_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -721px;width:34px;height:34px}.chem .color:after,.chem .size.active,.chem .size:hover{background-color:#2f8cea!important}.setting{display:-ms-inline-flexbox;display:inline-flex;height:34px;background:rgba(22,23,24,.79);border-radius:8px;padding:0 5px}.setting .item{width:30px;height:34px}.setting .item,.setting .item .sizeBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.setting .item .sizeBox{width:16px;height:16px;cursor:pointer}.setting .item .sizeBox .size{background:#ccc;border-radius:50%}.setting .item .sizeBox .size.size1{width:6px;height:6px}.setting .item .sizeBox .size.size2{width:10px;height:10px}.setting .item .sizeBox .size.size3{width:14px;height:14px}.setting .item .sizeBox .size.active,.setting .item .sizeBox .size:hover{background-color:#ff7e30}.setting .item :nth-child(n){cursor:pointer}.setting .item .color{width:16px;height:16px;border-radius:1px;position:relative}.setting .item .color:after{content:\"\";position:absolute;left:100%;top:100%;display:block;height:5px;width:5px;margin:-3px;visibility:hidden;background-color:#ff7e30;-webkit-box-shadow:0 0 1px #fff;box-shadow:0 0 1px #fff;-webkit-transform:scale(1.5);transform:scale(1.5);border-radius:50%}.setting .item .color.active:after,.setting .item .color:hover:after{visibility:visible}.setting .segmentation{margin:9px 4px;width:1px;height:14px;background:hsla(0,0%,100%,.2)}.setting .pointed{position:absolute;top:100%;left:0;border:6px solid;border-color:rgba(22,23,24,.79) transparent transparent transparent}"},enumerable:true,configurable:true});return t}())}}}));