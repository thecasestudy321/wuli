var __awaiter=this&&this.__awaiter||function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{l(i.next(t))}catch(e){r(e)}}function a(t){try{l(i["throw"](t))}catch(e){r(e)}}function l(t){t.done?n(t.value):s(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=o[0]&2?s["return"]:o[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;if(s=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;s=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1];r=o;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(o);break}if(r[2])n.ops.pop();n.trys.pop();continue}o=e.call(t,n)}catch(a){o=[6,a];s=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-7243f468.system.js","./p-5008d5f5.system.js"],(function(t){"use strict";var e,n,i,s,r;return{setters:[function(t){e=t.r;n=t.c;i=t.h;s=t.g},function(t){r=t.D}],execute:function(){var o=t("nb_brush",function(){function t(t){e(this,t);this.btnList=[{index:0,cla:"start-h"},{index:1,cla:"bush-pen",command:"pen"},{index:3,cla:"bush-reaser",command:"reaser"},{index:7,cla:"bush-jinyong",command:"jinyong"},{index:5,cla:"btn-h"},{index:6,cla:"bush-cancel",command:"cancel"},{index:4,cla:"bush-delate",command:"delate"},{index:8,cla:"start-h"}];this.sizes=[1,2,3];this.colors=["#2D8AE6","#FF7E30","#FFCF50","#27CC2A","#FFFFFF"];this.penSetting=[{type:"size",item:this.sizes},{type:"|"},{type:"color",item:this.colors}];this.reaserSetting=[{type:"size",item:this.sizes}];this.skinUrl={chem:"assets/imgs/nbk/nbk_nb-brush-chem_sprite.png",phy:"assets/imgs/nbk/nbk_nb-brush_sprite.png"};this.skin="phy";this.defaultColor=0;this.skinurl=this.skinUrl[this.skin];this.activeIndex=1;this.penSizeIndex=0;this.penColorIndex=0;this.arrowSizeIndex=0;this.arrowColorIndex=0;this.reaserSizeIndex=0;this.submuneVisible=true;this.brushSettingChange=n(this,"brushSettingChange",7);this.brushToolChange=n(this,"brushToolChange",7)}t.prototype.getSetting=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,{penSize:this.sizes[this.penSizeIndex],penColor:this.colors[this.penColorIndex],arrowSize:this.sizes[this.arrowSizeIndex],arrowColor:this.colors[this.arrowColorIndex],reaserSize:this.sizes[this.reaserSizeIndex],active:this.activeIndex}]}))}))};t.prototype.setSubmuneVisible=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.submuneVisible=t;return[2]}))}))};t.prototype.resetAll=function(t,e){if(t===void 0){t=true}if(e===void 0){e=null}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){this.activeIndex=1;this.penSizeIndex=0;this.penColorIndex=this.defaultColor;this.arrowSizeIndex=0;this.arrowColorIndex=this.defaultColor;this.reaserSizeIndex=0;if(e){this.settingChangeHander({detail:e.color})}else{this.settingChangeHander({detail:{type:"color",index:0,flag:1}})}this.settingChangeHander({detail:{type:"size",index:0,flag:1}});if(t){this.brushToolChange.emit({type:"pen"})}return[2]}))}))};t.prototype.settingChangeHander=function(t){var e=t.detail,n=e.type,i=e.index,s=e.flag;var r={1:"pen",2:"arrow",3:"reaser"};var o={color:"Color",size:"Size"};if(i!==undefined){this[r[s]+o[n]+"Index"]=i}else{i=this[r[s]+o[n]+"Index"]}this.brushSettingChange.emit({tool:r[s],attr:n,value:this[n+"s"][i]})};t.prototype.itemClick=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n,i;return __generator(this,(function(s){e=t.detail.data,n=e.index,i=e.command;if(this.activeIndex!==n&&[1,2,3,7].includes(n)){this.activeIndex=n}this.brushToolChange.emit({type:i});if([1,2,3].includes(n)){this.settingChangeHander({detail:{type:"size",index:undefined,flag:n}});if(n!==3){this.settingChangeHander({detail:{type:"color",index:undefined,flag:n}})}this.submuneVisible=true}return[2]}))}))};t.prototype.componentWillLoad=function(){this.penColorIndex=this.defaultColor;this.arrowColorIndex=this.defaultColor};t.prototype.getSubMnueDom=function(){if(!this.submuneVisible){return}switch(this.activeIndex){case 1:return i("nb-brush-setting",{skin:this.skin,flag:1,sizeIndex:this.penSizeIndex,colorIndex:this.penColorIndex,class:"sunMnue",settingList:this.penSetting,pointLeft:"15%"});case 2:return i("nb-brush-setting",{skin:this.skin,flag:2,sizeIndex:this.arrowSizeIndex,colorIndex:this.arrowColorIndex,class:"sunMnue",settingList:this.penSetting,pointLeft:"26%"});case 3:return i("nb-brush-setting",{skin:this.skin,flag:3,sizeIndex:this.reaserSizeIndex,class:"sunMnue reaserSetting",settingList:this.reaserSetting,pointLeft:"44%"})}};t.prototype.render=function(){var t=this;return i("div",{class:"brush"},i("nb-bar-base",{bgurl:this.skinurl,btnList:this.btnList,onItemClick:function(e){return t.itemClick(e)},activeIndex:this.activeIndex},i("div",{slot:"bar-base-bind"},this.getSubMnueDom())))};Object.defineProperty(t,"style",{get:function(){return".choose{background-position:0 -18px}.choose,.ellipse{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:9px;height:9px}.ellipse{background-position:0 -32px}.ketuodong{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -93px;width:4px;height:23px}.bush-arrow,.menu_icon_arrow_def{background-position:0 -527px}.bush-arrow,.bush-arrow:hover,.menu_icon_arrow_def,.menu_icon_arrow_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-arrow:hover,.menu_icon_arrow_hov{background-position:0 -556px}.bush-arrow.active,.bush-arrow:active,.menu_icon_arrow_pre{background-position:0 -585px}.bush-arrow.active,.bush-arrow:active,.bush-pen,.menu_icon_arrow_pre,.menu_icon_brush_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-pen,.menu_icon_brush_def{background-position:0 -614px}.bush-pen:hover,.menu_icon_brush_hov{background-position:0 -121px}.bush-pen.active,.bush-pen:active,.bush-pen:hover,.menu_icon_brush_hov,.menu_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-pen.active,.bush-pen:active,.menu_icon_brush_pre{background-position:0 -150px}.bush-cancel,.menu_icon_cancel_def{background-position:0 -179px}.bush-cancel,.bush-cancel:hover,.menu_icon_cancel_def,.menu_icon_cancel_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-cancel:hover,.menu_icon_cancel_hov{background-position:0 -208px}.bush-cancel:active,.menu_icon_cancel_pre{background-position:0 -237px}.bush-cancel:active,.bush-delate,.menu_icon_cancel_pre,.menu_icon_delate_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-delate,.menu_icon_delate_def{background-position:0 -266px}.bush-delate:hover,.menu_icon_delate_hov{background-position:0 -295px}.bush-delate:active,.bush-delate:hover,.menu_icon_delate_hov,.menu_icon_delate_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-delate:active,.menu_icon_delate_pre{background-position:0 -324px}.bush-jinyong,.menu_icon_jinyong_def{background-position:0 -353px}.bush-jinyong,.bush-jinyong:hover,.menu_icon_jinyong_def,.menu_icon_jinyong_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-jinyong:hover,.menu_icon_jinyong_hov{background-position:0 -382px}.bush-jinyong.active,.bush-jinyong:active,.menu_icon_jinyong_pre{background-position:0 -411px}.bush-jinyong.active,.bush-jinyong:active,.bush-reaser,.menu_icon_jinyong_pre,.menu_icon_reaser_def{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-reaser,.menu_icon_reaser_def{background-position:0 -440px}.bush-reaser:hover,.menu_icon_reaser_hov{background-position:0 -469px}.bush-reaser.active,.bush-reaser:active,.bush-reaser:hover,.menu_icon_reaser_hov,.menu_icon_reaser_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:24px;height:24px}.bush-reaser.active,.bush-reaser:active,.menu_icon_reaser_pre{background-position:0 -498px}.ok{background-position:0 0}.ok,.path{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:6px;height:4px}.path{background-position:0 -9px}.pen{background-position:0 -69px;width:19px;height:19px}.pen,.rubber{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat}.rubber{background-position:0 -46px;width:18px;height:18px}.toolbar_icon_brush_def{background-position:0 -643px}.toolbar_icon_brush_def,.toolbar_icon_brush_hov{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_hov{background-position:0 -682px}.toolbar_icon_brush_pre{background-image:url(assets/imgs/nbk/nbk_nb-brush_sprite.png);background-size:34px 755px;background-repeat:no-repeat;background-position:0 -721px;width:34px;height:34px}.brush{position:relative}.bush-arrow,.bush-cancel,.bush-delate,.bush-jinyong,.bush-pen,.bush-reaser,.flex-btn-base{margin-top:10px;margin-left:14px;cursor:pointer}.sunMnue{position:absolute;top:-42px;left:0}.sunMnue.reaserSetting{left:37px}"},enumerable:true,configurable:true});return t}());var a=t("nb_lock_pen",function(){function t(t){e(this,t);this.isPlayer=false;this.contentStyle={};this.penActive=false;this.lockSkin="unlockbtn";this.penSkin="penbtn";this.lockstate=false;this.tempOpen=false;this.penClick=n(this,"penClick",7);this.lockClick=n(this,"lockClick",7)}t.prototype.getState=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,{lock:this.lockstate,pen:this.penActive}]}))}))};t.prototype.reset=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.penActive=false;this.lockSkin="unlockbtn";this.penSkin="penbtn";this.lockstate=false;this.tempOpen=false;return[2]}))}))};t.prototype.componentWillLoad=function(){};t.prototype.componentDidLoad=function(){this.freshLocation()};t.prototype.freshLocation=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){if(this.isPlayer)return[2];t=r.domQuerySelector(document.body,".scale-cla");if(!t){return[2]}e=t.getBoundingClientRect();this.contentStyle={left:e.right+20+"px",top:e.top+"px"};return[2]}))}))};t.prototype.componentDidUnload=function(){};t.prototype.winresizeChange=function(){this.freshLocation()};t.prototype.lockBtnClick=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(t&&typeof t=="object"){if(t.tmpunlock){this.tempOpen=true;this.lockstate=true}}else if(t!=undefined){this.lockstate=t;this.tempOpen=false;if(this.lockstate){this.lockSkin="lock_close_def"}else{this.lockSkin="unlock_close_def"}this.lockClick.emit(this.lockstate);return[2]}if(this.penActive&&!this.tempOpen){return[2]}this.lockstate=!this.lockstate;if(this.lockstate){this.lockSkin="lockbtn"}else{this.lockSkin="unlockbtn"}this.lockClick.emit(this.lockstate);return[2]}))}))};t.prototype.penBtnClick=function(){this.penActive=!this.penActive;if(this.penActive){this.penSkin="toolbar_icon_brush_pre"}else{this.penSkin="penbtn"}this.penClick.emit(this.penActive)};t.prototype.render=function(){var t=this;return i("div",{class:"lc-content",style:this.contentStyle},i("div",{class:this.isPlayer?"btnClass":"btnClass bgclass",onClick:function(){t.lockBtnClick()}},i("div",{class:this.lockSkin+" basebtn"})),i("div",{class:this.isPlayer?"btnClass":"btnClass bgclass",onClick:function(){t.penBtnClick()}},i("div",{class:this.penSkin+" basebtn"})))};Object.defineProperty(t.prototype,"element",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".lock_close_def,:host .lc-content .lockbtn{background-position:0 0}.lock_close_def,.lock_close_hov,:host .lc-content .lockbtn,:host .lc-content .lockbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.lock_close_hov,:host .lc-content .lockbtn:hover{background-position:0 -39px}.lock_close_pre,:host .lc-content .lockbtn:active{background-position:0 -78px}.lock_close_pre,.toolbar_icon_brush_def,:host .lc-content .lockbtn:active,:host .lc-content .penbtn{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_def,:host .lc-content .penbtn{background-position:0 -117px}.toolbar_icon_brush_hov,:host .lc-content .penbtn:hover{background-position:0 -156px}.toolbar_icon_brush_hov,.toolbar_icon_brush_pre,:host .lc-content .penbtn:active,:host .lc-content .penbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.toolbar_icon_brush_pre,:host .lc-content .penbtn:active{background-position:0 -195px}.unlock_close_def,:host .lc-content .unlockbtn{background-position:0 -234px}.unlock_close_def,.unlock_close_hov,:host .lc-content .unlockbtn,:host .lc-content .unlockbtn:hover{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;width:34px;height:34px}.unlock_close_hov,:host .lc-content .unlockbtn:hover{background-position:0 -273px}.unlock_close_pre,:host .lc-content .unlockbtn:active{background-image:url(assets/imgs/nbk/nbk_nb-lock-pen_sprite.png);background-size:34px 346px;background-repeat:no-repeat;background-position:0 -312px;width:34px;height:34px}:host .lc-content{pointer-events:auto;position:absolute;width:92px}:host .lc-content .bgclass{background:#212529;border-radius:6px;padding:0 2px}:host .lc-content .btnClass{display:inline-block}:host .lc-content .btnClass:first-child{margin-right:16px}:host .lc-content .basebtn{display:inline-block}"},enumerable:true,configurable:true});return t}())}}}));