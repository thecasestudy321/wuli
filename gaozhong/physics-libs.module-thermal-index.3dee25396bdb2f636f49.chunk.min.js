/*!
 * Copyright (c) 2017 Nobook inc.
 * 
 * (TBD)
 * 
 * Version: 0.6.57
 * Date: Mon Apr 27 2020 08:22:33 GMT+0800 (CST)
 */
webpackJsonpPhysicsCanvas([6],{1158:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(76),u=i(458),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.moduleType=4,i.timerStop=!1,i}return o(e,t),a(e,[{key:"init",value:function(){return this.hasInit?Promise.resolve():(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),Promise.resolve())}},{key:"requestAnimationLoop",value:function(){this.timerStop||s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"requestAnimationLoop",this).call(this)}}],[{key:"MODULE_TYPE",get:function(){return l.Modules.THERMAL}}]),e}(h["default"])},1159:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(456),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=6,i.lstart=!1,i.stan_t=20,i.step=0,i.datT=1,i.isSensor=!0,i.defaultName="T",i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.mc.animationSpeed=.6,this.btn.fontColor="#ffffff",this.btn.text="拉动",this.btn["this"]=this,this.btn.tab=function(){t.lstart?(t.mc.stop(),t.lstart=!1,t.btn.text="拉动",t.step=0):(t.mc.play(),t.lstart=!0,t.btn.text="停止",t.step=0,t.datT=1.1+.5*Math.random())},this.btn2["this"]=this,this.btn2.tab=this.btn.tab,this.scale.x=this.scale.y=.6}},{key:"update",value:function(){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this),this.lstart){this.step++;var t=1-Math.log2(this.step)/16;.2>t&&(t=.2);var i=this.datT*t/60;0>i&&(i=0),this.stan_t+=i}else 20>(this.stan_t-=.001)&&(this.stan_t=20);this.wdu.txt.text=this.stan_t.toFixed(2),this.wdu.txt.x=160-this.wdu.txt.width}},{key:"getParam",value:function(t){var e=0;switch(t){case"T":e=this.stan_t}return e}}]),e}(u["default"])},1160:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=6,i.bg=null,i.txt=null,i.op=new l.Point(-250,4),i.hitRect=new l.Rectangle(-300,-35,80,80),i.P=101325,i.randomValue=0,i.bindEq=null,i.isSensor=!0,i.defaultName="P",i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.scale.x=this.scale.y=.6,this.txt.x=222,this.txt.anchor.x=1,this.updateText()}},{key:"setDataOver",value:function(){this.checkBind()}},{key:"removed",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"update",value:function(){var t=101325;this.bindEq&&(t=this.bindEq.P),t!==this.P&&(this.P=t,this.updateText())}},{key:"updateText",value:function(){this.txt.text=this.getP().toFixed(3)+"kPa"}},{key:"getP",value:function(){var t=(this.P+this.randomValue)/1e3;return Math.min(Math.max(t,0),700)}},{key:"beginEnd",value:function(t){this.bindEq&&(this.bindEq.bindEq=null,this.bindEq=null)}},{key:"endEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endEnd",this).call(this,t),this.checkBind()}},{key:"checkBind",value:function(){var t=this;if(!this.bindEq){this.main.getEquipmentArr(!0).every(function(e){return"Syringe"!==e.classname||!t.checkCollision(e)||(t.bindEq=e,t.bindEq.initPascal(),t.bindEq.bindEq=t,t.freshBindLocation(),!1)})}}},{key:"checkCollision",value:function(t){return this.hitRect.containsPoint(this.toLocal(t.op,t))}},{key:"freshBindLocation",value:function(){var t=this.bindEq;this.parent.x=t.parent.x+.6*t.op.x-.6*this.op.x,this.parent.y=t.parent.y+.6*t.op.y-.6*this.op.y}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.checkBind()}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(),t}},{key:"getParam",value:function(t){var e=0;switch(t){case"P":e=1e3*this.getP();break;case"DEF":e=Math.min(Math.max(this.P,0),7e5)}return e}}]),e}(h["default"])},1161:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(456),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=1,i.isSensor=!0,i.defaultName="P",i.isOpenFire=!1,i.curTx=20,i.curPx=101325,i.canShowParticle=!0,i.addT=0,i.addNumSet=.02,i.subNumSet=.001,i.steamTx=50,i.bubbleTx=70,i.bubbleFenTx=98,i.maxTx=100,i.brr=4.2,i.waterMass=200,i.tbase=273.15,i.constN=0,i.constV=20,i.txtT=null,i.txtP=null,i.constNum(),i}return o(e,t),a(e,[{key:"constNum",value:function(){this.constN=101325*this.constV/(20+this.tbase)}},{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.initParticle(),this.updateText(),this.txtP=this.createTxt("101325"),this.txtT=this.createTxt(this.curTx),this.txtP.x=45,this.txtP.y=-190+this.txtP.width,this.txtT.x=125,this.txtT.y=-530+this.txtT.width,this.scale.x=this.scale.y=.6}},{key:"createTxt",value:function(t){var e=new PIXI.Text(t,{fill:0,font:"30px 微软雅黑",align:"left"});return e.rotation=-Math.PI/2,this.addChild(e),e}},{key:"initParticle",value:function(){var t=this;this._bubbleParticle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.bubbleParticle),this.add2component(this._bubbleParticle),this._bubbleParticle.x=-50,this._bubbleParticle.y=360,this._bubbleParticle._this=this,this._bubbleParticle.completeFunc=function(){t._bubbleParticle.particle.spawnRect.height=120,t._bubbleParticle.particle.spawnRect.width=200,t._bubbleParticle.particle.maxParticles=0},this._steamParticle=null,this._steamParticle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.water_vapor),this.add2component(this._steamParticle),this._steamParticle.x=-45,this._steamParticle.y=260,this._steamParticle.completeFunc=function(){t._steamParticle.particle.spawnRect.width=200,t._steamParticle.particle.maxParticles=0}}},{key:"removed",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"addQ",value:function(t){this.addT+=t/(this.brr*this.waterMass)}},{key:"update",value:function(){var t=0;if(this.isOpenFire)if(this.addT>0){var e=(100-this.curTx)/100,i=.002+.018*e;this.addT-=i,0>this.addT&&(this.addT=0),t=this.curTx+i}else{var n=(100-this.curTx)/100;t=this.curTx+(.005+.015*n)}else t=this.curTx-this.subNumSet;t>100&&(t=100),20>t&&(t=20),this.curTx!==t&&(this.curTx=t,this.curPx=this.constN*(this.curTx+this.tbase)/this.constV,this.txtT.text=this.curTx.toFixed(2),this.txtP.text=this.curPx.toFixed(2),this.txtT.y=-530+this.txtT.width,this.txtP.y=-190+this.txtP.width,this.freshTx())}},{key:"freshTx",value:function(){var t=0;this.isOpenFire&&this.curTx>this.bubbleTx?(t=(this.curTx-this.bubbleTx)/(this.maxTx-this.bubbleTx)*60,this.canShowParticle&&this.playShuiSound(!0)):(t=0,this.canShowParticle&&this.playShuiSound(!1)),this.canShowParticle&&this._bubbleParticle.particle&&(this._bubbleParticle.particle.maxParticles=t,this._bubbleParticle.particle.endScale=this.curTx>this.bubbleFenTx?3:.5);var e=0;e=this.curTx>this.steamTx?(this.curTx-50)/50*400+70:0,this.canShowParticle&&this._steamParticle.particle&&(this._steamParticle.particle.maxParticles=e)}},{key:"updateText",value:function(){}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.bindBunsen&&this.bindBunsen.freshBindLocation.call(this.bindBunsen)}},{key:"checkBind",value:function(){}},{key:"checkCollision",value:function(t){}},{key:"freshBindLocation",value:function(){}},{key:"bindHandle",value:function(){this.isOpenFire=!(!this.bindBunsen||!this.bindBunsen.isOpenFire)}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.checkBind()}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(),t}},{key:"getParam",value:function(t){var e=0;switch(t){case"P":e=this.curPx;break;case"T":e=this.curTx}return e}}]),e}(u["default"])},1162:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=6,i.pen=null,i.randomValue=0,i.isSensor=!0,i.defaultName="T",i.dragId=null,i.line=new PIXI.Graphics,i.linecolor=0,i.T=0,i}return o(e,t),a(e,[{key:"drawLine",value:function(){this.line.clear(),this.line.lineStyle(6,this.linecolor);var t=this.toLocal({x:-184,y:14},this.bg);this.line.moveTo(t.x,t.y);var e=this.toLocal({x:-260,y:14},this.bg),i=this.toLocal({x:-1,y:-223},this.pen),n={x:i.x,y:i.y-150};this.line.bezierCurveTo(e.x,e.y,n.x,n.y,i.x,i.y)}},{key:"added",value:function(){var t=this;this.cannotSystemDrag=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.addChildAt(this.line,0),this.updateText(20),this.drawLine(),this.addDragLis();var i=this.bg.toLocal({x:this.flabelP.x,y:this.flabelP.y},this);this.bg.addChild(this.flabelP),this.flabelP.x=i.x,this.flabelP.y=i.y;var n=new l.Point(this.flabelP.x+this.flabelP.width/2,this.flabelP.y);this.flabel12Box.__getPos=function(){return{p:n,fromTar:t.bg}},this.scale.x=this.scale.y=.6}},{key:"addDragLis",value:function(){var t=this;this.bgdragId=this.createDrag(this.bg,null,function(e){t.drawLine()}),this.dragId=this.createDrag(this.pen,function(e){t.bindBei&&("Wave"==t.bindBei.classname||"Paraffin"==t.bindBei.classname?t.bindBei.unBindingDis():t.bindBei.unBindHandle(),t.bindBei.bindTher=null,t.bindBei=null)},function(e){t.drawLine()},function(e){if(!t.bindBei){var i=t.main.getEquipmentArr();each(i,function(e,i){if(t._toBindBei(i.component))return!1},t)}})}},{key:"createDrag",value:function(t,e,i,n){var r=this,o={x:0,y:0};return l.M.addTouch(t,{begin:function(t){var i=r.getMouseXY(t);o=r.toLocal(i,r.main.view),e&&e(t)},move:function(e){var n=r.getMouseXY(e),a=r.toLocal(n,r.main.view);t.x+=a.x-o.x,t.y+=a.y-o.y,o=a,i&&i(e)},end:function(t){n&&n(t)}})}},{key:"removed",value:function(){l.M.removeTouch(this.pen,this.dragId),l.M.removeTouch(this.bg,this.bgdragId),this.bindBei&&(this.bindBei.unBindHandle&&this.bindBei.unBindHandle(),this.bindBei.unBindingDis&&this.bindBei.unBindingDis(),this.bindBei.bindTher=null,this.bindBei=null,this.T=20),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"updateText",value:function(t){if(this.T!=t){this.T=t;this.bg.txt.text=(this.T+this.randomValue).toFixed(2)+"℃",this.bg.txt.x=155-this.bg.txt.width,this.bg.txt.y=2}}},{key:"_toBindBei",value:function(t){if(!t)return!1;var e=this.toGlobalView(new l.Point,this.pen),i=this.toGlobalView(new l.Point,t),n=e.x-i.x,r=e.y-i.y;return("Wave"==t.classname||"Paraffin"==t.classname)&&!t.binddis&&n>-60&&60>n&&r>-180&&180>r?(t.bindingDis(this),this.bindBei=t,!0):!!(this.checkCanBind(t)&&n>-60&&70>n&&r>-270&&161>r)&&(this.bindBei=t,this.bindBei.bindTher=this,this.freshBindLocation(),this.bindBei.freshTx(),!0)}},{key:"freshTx",value:function(){}},{key:"checkCanBind",value:function(t){return t.isBei&&!t.bindTher&&t.canGetTher}},{key:"freshBindLocation",value:function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0],e=this.bindBei.x,i=this.bindBei.y;i-=t?-39.2:90.8;var n=this.toLocal({x:e,y:i},this.bindBei);l.M.setSPPointXY(this.pen,n.x,n.y),this.drawLine()}},{key:"update",value:function(){var t=0;this.bindBei?(t=this.bindBei._curTx,"Wave"!=this.bindBei.classname&&"Paraffin"!=this.bindBei.classname||this.freshBindLocation(!0)):t=20,this.updateText(t)}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.penpos={x:this.pen.x,y:this.pen.y},t.bgpos={x:this.bg.x,y:this.bg.y},this.bindBei&&(t.bindUid=this.bindBei.UID),t}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),t.penpos&&l.M.setSPPointXY(this.pen,t.penpos.x,t.penpos.y),t.bgpos&&l.M.setSPPointXY(this.bg,t.bgpos.x,t.bgpos.y),this.drawLine()}},{key:"setDataOver",value:function(t){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),t.bindUid){var i=this.equipmentUtil.getEquiFromUID(t.bindUid);i.isBei?(this.bindBei=i,this.bindBei.bindTher=this,this.freshBindLocation(),this.bindBei.freshTx()):(i.bindingDis(this),this.bindBei=i)}}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}},{key:"getConf",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this)}},{key:"getParam",value:function(t){var e=0;switch(t){case"T":e=this.T+this.randomValue}return e}}]),e}(h["default"])},1163:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=6,i.bg=null,i.handle=null,i.dragId=0,i.biaoP=101325,i.P=i.biaoP,i.V=1e-6,i.op=new l.Point(235,-5),i.bindEq=null,i.isLock=!1,i.curtHandPos=0,i.isSensor=!0,i.defaultName="V",i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.scale.x=this.scale.y=.6,this.handle.getMScale=function(){return t.main.view.scale},this.dragId=l.M.addDrag(this.handle,new l.Rectangle(-199,-3.5,384,0),{begin:this.handleDown,move:this.handleMove,end:this.handleEnd},this),this.updatePV()}},{key:"removed",value:function(){this.handle.getMScale=null,l.M.removeDrag(this.handle,this.dragId),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"update",value:function(){}},{key:"handleDown",value:function(t){this.cannotSystemDrag=!0}},{key:"handleMove",value:function(t){this.updatePV()}},{key:"updatePV",value:function(){var t=186-this.handle.x;if(this.V=20*(t- -5)/350+0,this.bindEq){this.P=this.biaoP*(186-this.curtHandPos)/t}else this.P=this.biaoP}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation()}},{key:"handleEnd",value:function(t){this.cannotSystemDrag=!1}},{key:"beginEnd",value:function(t){}},{key:"endEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endEnd",this).call(this,t)}},{key:"lockChanged",value:function(t){this.isLock=t.checked}},{key:"initPascal",value:function(){this.curtHandPos=this.handle.x,this.updatePV()}},{key:"freshBindLocation",value:function(){this.bindEq&&this.bindEq.freshBindLocation()}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.hx=this.handle.x,t.isLock=this.isLock,t}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.handle.x=t.hx||this.handle.x,this.isLock=!!t.isLock,this.updatePV()}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(this.ComponentProperty.getSwitch(this.language.getLocaleStr("lock"),this.isLock,this.lockChanged,this)),t}},{key:"getParam",value:function(t){var e=0;switch(t){case"P":e=this.P;break;case"V":case"DEF":e=this.V}return e}}]),e}(h["default"])},1164:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bindBei=null,i.level=6,i}return o(e,t),a(e,[{key:"beginEnd",value:function(t){this.bindBei&&(this.bindBei.bindBoard=null,this.bindBei=null)}},{key:"endEnd",value:function(t){var e=this,i=this.main.getEquipmentArr();each(i,function(t,i){var n=i.component;if(n.isBei&&!e.bindBoard&&(!n.bindTher||"Thermometer"==n.bindTher.classname)&&n.canGetBoard){var r=e.toGlobalView(new l.Point,e),o=e.toGlobalView(new l.Point,n),a=l.M.getPointLen(r,o);if(100/e.main.viewStack.scale.x>a)return e._toBindBei(n),e.playXIFUSound(),!1}})}},{key:"_toBindBei",value:function(t){this.bindBei=t,this.bindBei.bindBoard=this,this.freshBindLocation(),this.bindBei.bindHandle.call(this),this.bindBei.bindTher&&this.bindBei.bindTher.freshShowType.call(this.bindBei.bindTher)}},{key:"freshBindLocation",value:function(t){if(this.bindBei.bindBrandreth){if(!this.bindBei.parent)return;var e=void 0;"Brandreth_table_B"===this.bindBei.bindBrandreth.classname?(this.bindBei.parent.parent.updateTransform(),e=this.bindBei.parent.parent.toLocal(this.bindBei.bindBrandreth.bp,this.bindBei.bindBrandreth),e.y+=-165,e.x+=7):(this.bindBei.parent.parent.updateTransform(),e=this.bindBei.parent.parent.toLocal(new l.Point(0,0),this.bindBei.bindBrandreth),e.y+=-245,e.x+=7),l.M.setSPPoint(this.parent,e)}else{l.M.setSPPointXY(this.parent,this.bindBei.parent.x-8+13,this.bindBei.parent.y-90)}}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return this.bindBei&&(t.bindBei_UID=this.bindBei.UID),t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&this.setData_obj.bindBei_UID&&(this.bindBei=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBei_UID),this._toBindBei(this.bindBei))}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}}]),e}(h["default"])},1165:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=(i(1),i(456)),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bindTube=null,i.bindBunsen=null,i.level=1,i}return o(e,t),a(e,[{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation()}},{key:"freshBindLocation",value:function(t){this.bindTube&&this.bindTube.freshBindLocation(),this.bindBunsen&&this.bindBunsen.freshBindLocation.call(this.bindBunsen)}},{key:"bindHandle",value:function(){this.bindTube&&this.bindBunsen&&this.bindBunsen.isOpenFire?this.bindTube.curTx=100:this.bindTube&&(this.bindTube.curTx=20)}}]),e}(u["default"])},1166:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=1,i.bindGauze=null,i.bindBei=null,i.bindBunsen=null,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.bp.visible=!1,this.xia.visible=!1,this.shang.visible=!1,this.xiaOriP=l.M.getSPPoint(this.xia),this.shangOriP=l.M.getSPPoint(this.shang)}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation(),this.bindBunsen&&this.bindBunsen.freshBindLocation.call(this.bindBunsen)}},{key:"freshBindLocation",value:function(t){this.bindGauze&&this.bindGauze.freshBindLocation(),this.bindBei&&this.bindBei.freshBindLocation()}},{key:"bindHandle",value:function(){this.bindGauze&&this.bindBei&&this.bindBunsen&&this.bindBunsen.isOpenFire?this.bindBei.addNum=this.bindBei.addNumSet:this.bindBei&&(this.bindBei.addNum=this.bindBei.subNumSet),this.freshShowSX()}},{key:"freshWaterBindHandle",value:function(t){this.freshShowSX(t)}},{key:"freshShowSX",value:function(t){if(!this._destroyed){var e=!1;!t&&this.bindBei&&this.bindBei.bindTher&&("Thermometer"===this.bindBei.bindTher.classname?(e=!0,this.shang.visible=!0,this.shang.y=0==this.bindBei.bindTher.lcType?this.shangOriP.y-18:this.shangOriP.y-152):"Paraffin"!==this.bindBei.bindTher.classname&&"Wave"!==this.bindBei.bindTher.classname||(e=!0,this.xia.visible=!0,this.shang.visible=!0,this.shang.y=this.shangOriP.y-60-115,this.xia.y=this.xiaOriP.y+48)),e||(this.xia.visible=!1,this.shang.visible=!1)}}}]),e}(h["default"])},1167:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(49),h=i(685),c=function(t){return t&&t.__esModule?t:{"default":t}}(h);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=2,i.bindGap=null,i.bindBrandreth=null,i.isOpenFire=!1,i.resetDisLoadComp=!0,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this._particle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.spirit_fire),this._particle2=this.ParticleUtil.getParticle(this.ParticleUtil.particles.spirit_fire_blue),this.main.otherContainer.addChild(this._particle),this.main.otherContainer.addChild(this._particle2),this._particle.bind(this,0,-60),this._particle2.bind(this,-15,-60),this.openFire(!1),this.addOthers(),this.flameRect={yanP:new l.Point(0,-50),bottomCenP:new l.Point(0,50),width:100},this.maskg=new PIXI.Graphics,this.addChild(this.maskg)}},{key:"freshMyFlame",value:function(){var t=this;this.maskg.clear();var e=this.main.getEquipmentArr(!0),i=1e5,n=void 0,r=void 0;if(e.forEach(function(e){if(e.bunsenFlameMaskPoint){var o=t.toLocal(e.bunsenFlameMaskPoint,e);if(t.flameRect.yanP.y>o.y){var a=l.M.getPointLen(o,t.flameRect.yanP);i>a&&110>a&&(i=a,n=o,r=e)}}}),n){this._particle.mask=this.maskg;var o=new l.Point(this.flameRect.bottomCenP.x-this.flameRect.width/2,n.y);this.maskg.beginFill(16711680,0),this.maskg.drawRect(o.x,o.y,this.flameRect.width,140,n.y-this.flameRect.bottomCenP.y),this.maskg.endFill()}else this._particle.mask=null}},{key:"addOthers",value:function(){var t=this.dependEquipments,e=t[0];this.paramObj.classParam&&this.paramObj.classParam.isAddNew?(e.allowSave=!0,e.bindBunsen=this,this.bindGap=e,this.freshBindLocation()):this.main.removeEquipment(e,!0)}},{key:"openFire",value:function(t){t?this.bindGap||(this._particle.visible=!0,this._particle2.visible=!0):(this._particle.visible=!1,this._particle2.visible=!1),this.isOpenFire=this._particle.visible,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"openFire",this).call(this,t),this.bindBrandreth&&this.bindBrandreth.bindHandle.call(this.bindBrandreth);var i=(0,u.get)(this,"bindBrandreth.bindBei");i&&i.freshShowBubble.call(i)}},{key:"removed",value:function(){this._particle&&(this._particle.destroy.call(this._particle),this._particle2.destroy.call(this._particle)),this.bindGap&&(this.bindGap.bindBunsen=null,this.main.removeEquipment(this.bindGap)),this.bindBrandreth&&this.beginEnd(null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"bindHandle",value:function(t){this.bindGap&&this.openFire(!1)}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation(),this.freshBunsenFlame()}},{key:"beginEnd",value:function(t){this.bindBrandreth&&(this.bindBrandreth.bindBunsen=null,this.bindBrandreth.bindHandle.call(this.bindBrandreth),this.bindBrandreth=null,this._particle.mask=null)}},{key:"endEnd",value:function(t){if(!this.bindBrandreth){var e=this.getChildByClassInRadius(this,"Brandreth_table_B",150,new l.Point(18,200));e=e.concat(this.getChildByClassInRadius(this,"Tripod",150,new l.Point(0,0))),e=e.concat(this.getChildByClassInRadius(this,"Brandreth_table",150,new l.Point(10,240))),e=e.concat(this.getChildByClassInRadius(this,"SensorTempAndPascal",150,new l.Point(45,706))),each(e,function(t,e){if(!e.bindBunsen){this.bindBrandreth=e;var i=this._tobindBrandreth(this.bindBrandreth);if(this.playXIFUSound(),i)return!1}},this)}this.freshBunsenFlame()}},{key:"_tobindBrandreth",value:function(t){if(!t)return!1;t.bindBunsen=this,this.freshBindLocation(),"Brandreth_table"!=t.classname&&(this._particle.mask=this.maskg),t.bindHandle.call(t)}},{key:"freshBindLocation",value:function(){if(this.bindBrandreth){var t=void 0;t="Brandreth_table"==this.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(10,250),this.bindBrandreth):"Brandreth_table_B"==this.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(18,240),this.bindBrandreth):"SensorTempAndPascal"==this.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(55,680),this.bindBrandreth):this.parent.parent.toLocal(new l.Point(0,40),this.bindBrandreth),l.M.setSPPoint(this.parent,t)}this.bindGap&&this.bindGap.freshBindLocation.call(this.bindGap)}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return this.bindBrandreth&&(t.bindBrandreth_UID=this.bindBrandreth.UID),this.bindGap&&(t.bindGap_UID=this.bindGap.UID),t.isOpenFire=this.isOpenFire,t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&(this.setData_obj.bindBrandreth_UID&&(this.bindBrandreth=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBrandreth_UID),this._tobindBrandreth(this.bindBrandreth),this.freshBunsenFlame()),this.setData_obj.bindGap_UID&&(this.bindGap=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindGap_UID))&&(this.bindGap.bindBunsen=this,this.freshBindLocation()),this.setData_obj.isOpenFire&&this.openFire(!0))}}]),e}(c["default"])},1168:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=3,i.bindBunsen=null,i.canShowDragRect=!1,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.addCursor(this,"tuozhuai")}},{key:"removed",value:function(){this.removedCursor(this),this.bindBunsen&&(this.bindBunsen.bindGap=null,this.main.removeEquipment(this.bindBunsen)),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"beginEnd",value:function(t){this.bindBunsen&&(this.bindBunsen.bindGap=null,this.bindBunsen=null)}},{key:"endEnd",value:function(t){var e=this;if(!this.bindBunsen){var i=this.getChildByClassInRadius(this,"Bunsen",130,new l.Point(0,-80));each(i,function(t,i){if(!i.bindGap)return e.bindBunsen=i,e.bindBunsen.bindGap=e,e.freshBindLocation(),e.bindBunsen.bindHandle.call(e.bindBunsen),e.playXIFUSound(),!1})}}},{key:"freshBindLocation",value:function(t){if(this.bindBunsen)if(this.main.view.updateTransform(),this.bindBunsen.bindBrandreth){var e=void 0;e="Brandreth_table"===this.bindBunsen.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(10,200),this.bindBunsen.bindBrandreth):"Brandreth_table_B"===this.bindBunsen.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(18,190),this.bindBunsen.bindBrandreth):"SensorTempAndPascal"==this.bindBunsen.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(55,600),this.bindBunsen.bindBrandreth):this.parent.parent.toLocal(new l.Point(0,-10),this.bindBunsen.bindBrandreth),l.M.setSPPoint(this.parent,e)}else{var i=this.parent.parent.toLocal(new l.Point(0,-50),this.bindBunsen);l.M.setSPPoint(this.parent,i)}}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}}]),e}(h["default"])},1169:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=i(578),s=function(t){return t&&t.__esModule?t:{"default":t}}(a);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.steamTx=120,i.bubbleTx=1e4,i.bubbleFenTx=1e4,i.addNumSet*=2.13,i.subNumSet*=2.13,i.addNum=i.subNumSet,i.maxTx1=i.maxTx2=200,i.canGetDroper=!1,i.brr=2.4,i}return o(e,t),e}(s["default"])},1170:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(685),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=2,i.isOpenFire=!1,i.resetDisLoadComp=!0,i.curtRlIndex=0,i.rllist=["酒精","煤油","碎纸片","木炭","干木柴","焦炭"],i.firelist=["bunsenParticle","meiyouParticle","zhipianParticle","mutanParticle","ganchaiParticle","jtParticle"],i.oneFireQ*=5,i.rlRate=.3,i.rlMass=3,i.fireMask=new PIXI.Graphics,i.fireMask.drawRect(0,0,144,200),i.fireMask.endFill(),i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.fireMask.x=-71.45,this.fireMask.y=-182.5,this.setRltxt()}},{key:"setData",value:function(t){this.changeRl({showValue:this.rllist[t.rltype]}),this.changeMass({showValue:t.rlMass}),this.changeRate({showValue:t.rlRate})}},{key:"openParticles",value:function(){this._particle||(this._particle=this.ParticleUtil.getParticle(this.ParticleUtil.particles[this.firelist[this.curtRlIndex]]),this.bg.hou.addChild(this._particle))}},{key:"destroyParticle",value:function(){this._particle&&(this._particle.destroy(),this.bg.hou.removeChild(this._particle),this._particle=null)}},{key:"openFire",value:function(t){if(!t||0!=this.rlMass){t&&this.openParticles(),t||this.destroyParticle(),this.isOpenFire=t,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"openFire",this).call(this,t),this.bindBrandreth&&this.bindBrandreth.bindHandle.call(this.bindBrandreth);var i=_.get(this,"bindBrandreth.bindBei");i&&i.freshShowBubble.call(i)}}},{key:"removed",value:function(){this.destroyParticle(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation(),this.freshBunsenFlame()}},{key:"beginEnd",value:function(t){this.bindBrandreth&&(this.bindBrandreth.bindBunsen=null,this.bindBrandreth.bindHandle.call(this.bindBrandreth),this.bindBrandreth=null)}},{key:"endEnd",value:function(t){if(!this.bindBrandreth){var e=this.getChildByClassInRadius(this,"Brandreth_table_B",150,new l.Point(18,200));e=e.concat(this.getChildByClassInRadius(this,"Tripod",150,new l.Point(0,0))),e=e.concat(this.getChildByClassInRadius(this,"Brandreth_table",150,new l.Point(10,240))),each(e,function(t,e){if(!e.bindBunsen){this.bindBrandreth=e;var i=this._tobindBrandreth(this.bindBrandreth);if(this.playXIFUSound(),i)return!1}},this)}this.freshBunsenFlame()}},{key:"_tobindBrandreth",value:function(t){if(!t)return!1;t.bindBunsen=this,this.freshBindLocation(),t.bindHandle.call(t)}},{key:"freshBindLocation",value:function(){if(this.bindBrandreth){var t=void 0;t="Brandreth_table"==this.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(10,250),this.bindBrandreth):"Brandreth_table_B"==this.bindBrandreth.classname?this.parent.parent.toLocal(new l.Point(18,240),this.bindBrandreth):this.parent.parent.toLocal(new l.Point(0,40),this.bindBrandreth),l.M.setSPPoint(this.parent,t)}}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.rltype=this.curtRlIndex,t.rlRate=this.rlRate,t.rlMass=this.rlMass,this.bindBrandreth&&(t.bindBrandreth_UID=this.bindBrandreth.UID),t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&this.setData_obj.bindBrandreth_UID&&(this.bindBrandreth=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBrandreth_UID),this._tobindBrandreth(this.bindBrandreth),this.freshBunsenFlame())}},{key:"setRltxt",value:function(){this.bg.txt.text=this.rllist[this.curtRlIndex],0==this.rlMass&&(this.bg.txt.text="")}},{key:"changeRl",value:function(t){this.curtRlIndex=this.rllist.indexOf(t.showValue),this.setRltxt()}},{key:"changeMass",value:function(t){this.rlMass=t.showValue,this.setRltxt()}},{key:"changeRate",value:function(t){this.rlRate=t.showValue}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this),i=t.confArr;return this.isOpenFire?t:(i.push(this.ComponentProperty.getDropMenu("燃料",!1,"",this.rllist[this.curtRlIndex],this.rllist,this,this.changeRl,1,0),this.ComponentProperty.getScrollBar(this.language.getLocaleStr("mass"),!0,"",20,0,this.rlMass,1,this.changeMass,this),this.ComponentProperty.getScrollBar("热量转化率",!1,"",1,0,this.rlRate,.1,this.changeRate,this)),t)}}]),e}(h["default"])},1171:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bindXi=null,i.canGetDroper=!0,i.hasWater=!0,i.curNum=1,i.resetDisLoadComp=!0,i}return o(e,t),a(e,[{key:"dropperWaterHandle",value:function(){this.addWater()}},{key:"addWater",value:function(){this.curNum+=.04,this.curNum=Math.min(1,this.curNum),this.freshH(),this.curNum>.1&&(this.hasWater=!0)}},{key:"subWater",value:function(){this.curNum-=.0016,this.curNum>.1?this.freshH():this.hasWater=!1}},{key:"freshH",value:function(){this.waterG.clear(),this.waterG.beginFill(16711680,.5);var t=new l.Point(0,85-110*this.curNum),e=new l.Point(t.x-49,t.y),i=new l.Point(t.x+49,t.y),n=new l.Point(t.x,t.y+20),r=new l.Point(t.x,t.y-20),o=new l.Point(0,85),a=new l.Point(o.x-49,o.y),s=new l.Point(o.x+49,o.y),u=(new l.Point(o.x,o.y-23),new l.Point(o.x,o.y+23));this.waterG.moveTo(e.x,e.y),this.waterG.quadraticCurveTo(r.x,r.y,i.x,i.y),this.waterG.lineTo(s.x,s.y),this.waterG.quadraticCurveTo(u.x,u.y,a.x,a.y),this.waterG.lineTo(e.x,e.y),this.waterG.endFill();this.waterG.lineStyle(2,16711680,.2),this.waterG.moveTo(e.x,e.y+3),this.waterG.quadraticCurveTo(n.x,n.y+3,i.x,i.y+3),this.topH.y=t.y}},{key:"addOthers",value:function(){this.bindXi=this.dependEquipments[0],this.bindXi.bindDropper=this,this.bindXi.freshBindLocation.call(this.bindXi)}},{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.waterG=new PIXI.Graphics,this.addChildAt(this.waterG,0),this.freshH(),this.addOthers()}},{key:"moveEnd",value:function(t){this.freshBindLocation()}},{key:"freshBindLocation",value:function(t){this.bindXi&&this.bindXi.freshBindLocation()}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}}]),e}(h["default"])},1172:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(49),h=i(456),c=function(t){return t&&t.__esModule?t:{"default":t}}(h);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canShowDragRect=!1,i.bindXi=null,i._maxScale=.3,i.notAnalytics=!0,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.bg.scale.x=0,this.bg.scale.y=0}},{key:"addWater",value:function(t){var e=this,i=this.bg.scale.x+.022;t&&this.bg.scale.x>0||i>this._maxScale?(i>this._maxScale&&(this.bg.scale.x=this.bg.scale.y=this._maxScale),this.bindXi.dropperWater=null,this._myTween=TweenMax.to(this,1,{y:1e3,ease:Cubic.easeIn,onUpdate:function(){e.checkDroperOn()},onComplete:function(){e.removeMe()}})):this.bg.scale.x=this.bg.scale.y=i}},{key:"subWater",value:function(){var t=this.bg.scale.x-.02;t>0?this.bg.scale.x=this.bg.scale.y=t:(this.bindXi.dropperWater=null,this.removeMe())}},{key:"checkDroperOn",value:function(){var t=this,e=this.main.getEquipmentArr(),i=this.bg.toGlobal(new l.Point(0,16));(0,u.forEach)(e,function(e,n){var r=e.component;if(r.canGetDroper&&!t._isDispose){if(r.bg.getBounds().contains(i.x,i.y))return r.dropperWaterHandle.call(r),t._isDispose=!0,t.removeMe(),!1}},this)}},{key:"removeMe",value:function(){this.main.removeEquipment(this)}},{key:"removed",value:function(){l.M.killTweenMax(this._myTween),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(c["default"])},1173:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=4,i._pArr=[{x:6.2,y:-66.9},{x:.2,y:-66.9},{x:-5.8,y:-66.9},{x:-6.25,y:-58.05},{x:-11.25,y:-53},{x:-16.3,y:-48},{x:-14.85,y:-16.65},{x:-12.95,y:6.1},{x:-7.7,y:28.15},{x:-.75,y:137.7},{x:.6,y:137.85},{x:1.9,y:137.95},{x:8.6,y:26.9},{x:12.65,y:7.75},{x:15.75,y:-17.1},{x:17.2,y:-48.25},{x:6.65,y:-58.05}],i.shuiH=179,i.shuiTop=-38,i.addNum=0,i.curNum=0,i.bindDropper=null,i.canXi=!1,i.dropperWater=null,i.isCreating=!1,i.allowSave=!1,i}return o(e,t),a(e,[{key:"freshG",value:function(){var t=this.shuiH*this.curNum,e={x:-20,y:this.shuiTop+this.shuiH-t,w:40,h:t};this.maskg.clear(),this.maskg.beginFill(16711680,.7),this.maskg.drawRect(e.x,e.y,e.w,e.h),this.maskg.endFill()}},{key:"update",value:function(){if(this.fresh_canXi(),this.addNum>0)if(this.canXi){if(this.dropperWater)return void this.dropperWater.subWater.call(this.dropperWater)}else{if(!this.dropperWater)return void(this.addNum=0);this.dropperWater.subWater.call(this.dropperWater)}var t=this.curNum+this.addNum;t=l.M.range(t,0,1),this.curNum!==t&&(this.curNum=t,this.freshG(),0>this.addNum?this.bindDropper?this.bindDropper.addWater.call(this.bindDropper):this.add_dropperWater():this.addNum>0&&this.bindDropper&&this.bindDropper.subWater.call(this.bindDropper))}},{key:"fresh_canXi",value:function(){this.canXi=!(!this.bindDropper||!this.bindDropper.hasWater)}},{key:"add_dropperWater",value:function(){this.isCreating||(this.dropperWater?this.dropperWater.addWater.call(this.dropperWater,0===this.curNum):this.createOneWater())}},{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.removeChildAt(1);var i=new PIXI.Graphics;i.beginFill(16711680,.8),l.M.linePath(i,this._pArr),i.endFill(),this.addChildAt(i,0),this.maskg=new PIXI.Graphics,this.addChild(this.maskg),i.mask=this.maskg,this.freshG();var n=this.btn=new PIXI.Graphics;n.beginFill(16711680,0),n.drawRect(-20,-137,40,40),this.addChild(n),this.btnTouchID=l.M.addTouch(n,{begin:function(e){t._downP=l.M.getMouseXY(e).clone(),t.top.currentFrame=1,t._fangID=setTimeout(function(){t.hadDestory||t.checkToFang()},50)},move:function(e){var i=l.M.getMouseXY(e);l.M.getPointLen(i,t._downP)>50&&(clearTimeout(t._fangID),t.top.currentFrame=0,t.checkToXi())},end:function(e){clearTimeout(t._fangID),t.top.currentFrame=0,t.checkToXi()}},this),this.addCursor(n,"hand")}},{key:"createOneWater",value:function(){var t=this;this.isCreating=!0,this.addComp([{name:"DropperWater",p:new l.Point(0,0)}],function(e){t.dropperWater=e[0],t.dropperWater.bindXi=t,t.freshWaterLocation(),t.isCreating=!1})}},{key:"checkToXi",value:function(){this.addNum=.01}},{key:"checkToFang",value:function(){this.addNum=-.01}},{key:"moveEnd",value:function(t){this.freshWaterLocation()}},{key:"freshWaterLocation",value:function(t){if(this.dropperWater){l.M.setSPPointXY(this.dropperWater.parent,this.parent.x,this.parent.y+140)}}},{key:"beginEnd",value:function(t){this.bindDropper&&(this.bindDropper.bindXi=null,this.bindDropper=null)}},{key:"endEnd",value:function(t){var e=this;if(!this.bindDropper){var i=this.getChildByClassInRadius(this,"Dropper",90,new l.Point(0,-100));each(i,function(t,i){if(!i.bindXi)return e.bindDropper=i,e.bindDropper.bindXi=e,e.freshBindLocation(),e.playXIFUSound(),!1},this)}var n=this.main.getEquipmentArr(),r=1e4,o=0,a=0;each(n,function(t,i){var n=i.component;if(n!==e&&("Cold_water"===n.classname||"Hot_water"===n.classname)){var s=e.toGlobalView(new l.Point(0,140),e),u=n.toGlobalView(new l.Point,n),h=Math.abs(s.x-u.x);if(350>s.y-u.y&&70>h&&r>h&&(r=h,o=u.x-s.x,150>u.y-s.y)){var c=new l.Point(u.x,u.y-150-140);c=e.main.viewStack.toLocal(c,e.main.view),a=c.y}}}),0!==o&&(TweenMax.to(this.parent,.1,{x:this.parent.x+o}),0!==a&&TweenMax.to(this.parent,.1,{y:a}))}},{key:"freshBindLocation",value:function(t){l.M.setSPPointXY(this.parent,this.bindDropper.parent.x,this.bindDropper.parent.y-100+20)}},{key:"removed",value:function(){this.removedCursor(this.btn),l.M.removeTouch(this.btn,this.btnTouchID),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(h["default"])},1174:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.playSounding=!1,i.canReset=!0,i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.dragID=l.M.addDrag(this.gan,new l.Rectangle(this.gan.x,-332.5,0,257),{begin:function(e){t.cannotSystemDrag=!0,t.downY=t.gan.y},move:function(e){var i=t.gan.y-t.downY;i>0&&t.gan.y>-100?t.playSounding||(t.playSounding=!0,t.globalConfig.SoundTool.play(t.SoundStr.EXTINGUISHER)):0>i&&(t.playSounding=!1),t.downY=t.gan.y},end:function(e){t.cannotSystemDrag=!1}},this),this.mian.loop=!1,this.mian.animationSpeed=.2,this.ticker=l.M.addTicker(function(){var e=t.gan.y-2;e=Math.max(e,-332.5),10>-75.5-(t.gan.y=e)&&(t.mian.playing||t.mian.play())},this),this.addCursor(this.gan,"shangxia")}},{key:"reset",value:function(){this.mian.currentFrame=0}},{key:"_checkToOri",value:function(){!this.mian.playing&&-332>this.gan.y&&(this.mian.currentFrame=0)}},{key:"removed",value:function(){this.removedCursor(this.gan),l.M.removeDrag(this.gan,this.dragID),this.ticker.stop(),this.ticker=null,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(h["default"])},1175:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canRotate=!0,i.canReset=!0,i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.add2component(this.ping1),this.add2component(this.ban),this.add2component(this.ping2),this.add2component(this.bg),this.add2component(this.alphaSP),this.bg.visible=!1;var i=this.ban.x;this.oriX=i,this.ban.getMScale=function(){return t.main.view.scale};var n=void 0;this.touchID=l.M.addTouch(this.ban,{begin:function(e){t.cannotSystemDrag=!0,n=t.getMouseXY(e)},move:function(e){var i=t.getMouseXY(e),r=i.x-n.x,o=i.y-n.y,a=t.componentBox.rotation,s=r*Math.cos(a)+o*Math.sin(a);t.ban.x+=s,n=i},end:function(e){t.cannotSystemDrag=!1,Math.abs(i-t.ban.x)>60&&(t.ping1.visible=!1,t.ping2.visible=!1,t.bg.visible=!0,t.bg.loop=!1,t.bg.play())}}),this.addCursor(this.ban,"zuoyou")}},{key:"reset",value:function(){this.ban.x=this.oriX,this.bg.currentFrame=0,this.ping1.visible=!0,this.ping2.visible=!0,this.bg.visible=!1}},{key:"removed",value:function(){this.removedCursor(this.ban),l.M.removeTouch(this.ban,this.touchID),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getLocalBoundsElecs",value:function(){return[this.alphaSP]}}]),e}(h["default"])},1176:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bunsenFlameMaskPoint=new l.Point(0,0),i.bindBrandreth=null,i.level=4,i}return o(e,t),a(e,[{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBunsenFlame()}},{key:"beginEnd",value:function(t){this.bindBrandreth&&(this.bindBrandreth.bindBei&&(this.bindBrandreth.bindBei.bindBrandreth=null,this.bindBrandreth.bindBei=null),this.bindBrandreth.bindGauze=null,this.bindBrandreth.bindHandle.call(this.bindBrandreth),this.bindBrandreth=null),this.freshBunsenFlame()}},{key:"endEnd",value:function(t){var e=this;if(!this.bindBrandreth){var i=this.getChildByClassInRadius(this,"Brandreth_table_B",150,new l.Point(18,102));i=i.concat(this.getChildByClassInRadius(this,"Tripod",150,new l.Point(0,-40))),each(i,function(t,i){if(!i.bindGauze)return e._toBindBrandreth(i),e.playXIFUSound(),!1},this)}this.freshBunsenFlame()}},{key:"_toBindBrandreth",value:function(t){t.bindGauze=this,this.bindBrandreth=t,this.freshBindLocation(),this.bindBrandreth.bindHandle.call(this.bindBrandreth)}},{key:"freshBindLocation",value:function(t){if(this.bindBrandreth){var e=void 0;this.parent.parent.updateTransform(),e=this.bindBrandreth.bp?this.parent.parent.toLocal(this.bindBrandreth.bp,this.bindBrandreth):this.parent.parent.toLocal(new l.Point(0,-80),this.bindBrandreth),l.M.setSPPoint(this.parent,e)}}},{key:"removed",value:function(){this.beginEnd(null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return this.bindBrandreth&&(t.bindBrandreth_UID=this.bindBrandreth.UID),t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&this.setData_obj.bindBrandreth_UID&&(this.bindBrandreth=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBrandreth_UID),this._toBindBrandreth(this.bindBrandreth))}}]),e}(h["default"])},1177:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(49),h=i(456),c=function(t){return t&&t.__esModule?t:{"default":t}}(h);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bai_len=78,i.gan_len=338,i.speed=4,i.isPlay=!0,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.tipLabel=new PIXI.Text("",{font:"40px 微软雅黑",fill:this.globalConfig.DEFAULT_TXT_COLOR,align:"left"}),this.addChild(this.tipLabel),this.tipLabel.x=50,this.tipLabel.y=-500,this._index=0,this.oriType=0,this.leftOriY=this.left.y-2,this.leftTanY=this.left.y-21,this.fire.visible=!1,this.redB.alpha=0,this.redB2.alpha=0,this.liangB.alpha=0,this.lniu.rotation=0,this.rair.alpha=0,this.ljian.alpha=0,this.rjian.alpha=0,this.lniu.rotation=Math.PI/2+22.5/Math.PI,this.freshTxtColor()}},{key:"freshTxtColor",value:function(){var t=this.globalConfig.TXT_COLOR;this.tipLabel&&(this.tipLabel.style.fill=t,this.tipLabel.updateText())}},{key:"update",value:function(){if(0!==(this.addAngle=.005*this.speed)&&this.isPlay){var t=l.M.getValidAngle(l.M.toAngle(this.bai.rotation+this.addAngle));this.bai.rotation=l.M.toHu(t);var e=this.bai.rotation,i=this.bai_len,n=this.gan_len,r=this.toLocal(new l.Point,this.bai.dot);l.M.setSPPoint(this.gan,r);var o=i*Math.cos(e)+Math.sqrt(l.M.sq(n)-l.M.sq(i*Math.sin(e))),a=new l.Point(this.bai.x,this.bai.y-o),s=l.M.getAngleByP(a,this.bai,this.gan);this.gan.rotation=this.gan.x>this.bai.x?-l.M.toHu(s):l.M.toHu(s);var u=this.toLocal(new l.Point,this.gan.dot);if(l.M.setSPPoint(this.sai,u),this.redB.height=this.sai.y-this.redB.y,3>Math.abs(this.lniu.rotation-2*Math.PI)){if(!this.isFireing&&20>Math.abs(t-360)){this.isFireing=!0;var h=this.fire;h.scale.x=h.scale.y=.1,h.visible=!0;var c=this.liangB;TweenMax.to(h.scale,.5,{x:1.5,y:1.5,onComplete:function(){h.visible=!1,TweenMax.to(c,.5,{alpha:1})}}),TweenMax.to(this.redB,.5,{alpha:1}),TweenMax.to(this.redB2,.5,{alpha:1}),this.freshFromType(4)}}else this.isFireing=!1;.2>Math.abs(this.lniu.rotation-1.5*Math.PI)?!this.isReding&&t>260&&(this.isReding=!0,this.redB.alpha=0,this.redB2.alpha=0,TweenMax.to(this.redB,1.5,{alpha:.4}),TweenMax.to(this.redB2,1.5,{alpha:.4})):this.isReding=!1,!this.isAning&&this.leftOriY>this.right.y&&(this.isAning=!0,TweenMax.to(this.redB,1.5,{alpha:0}),TweenMax.to(this.redB2,1.5,{alpha:0}),TweenMax.to(this.liangB,.1,{alpha:0}),TweenMax.to(this.rair,1,{alpha:0})),this._freshLRBtn(),this._freshCenGan(),this._freshLRGan()}}},{key:"_freshLRBtn",value:function(){var t=l.M.getValidAngle(l.M.toAngle(this.lniu.rotation+this.addAngle/2));this.lniu.rotation=l.M.toHu(t),this.rniu.rotation=l.M.getValidHu(this.lniu.rotation+Math.PI/2)}},{key:"_freshCenGan",value:function(){var t=this.bai.rotation,e=this.gan_len,i=this.toLocal(new l.Point,this.bai.dot);l.M.setSPPoint(this.gan,i);var n=this.bai_len*Math.cos(t)+Math.sqrt(l.M.sq(e)-l.M.sq(this.bai_len*Math.sin(t))),r=new l.Point(this.bai.x,this.bai.y-n),o=l.M.getAngleByP(r,this.bai,this.gan);this.gan.rotation=this.gan.x>this.bai.x?-l.M.toHu(o):l.M.toHu(o)}},{key:"_freshLRGan",value:function(){var t=this._freshlr(this.lniu,this.left,this.ltan);this.lair.alpha=t,t>0&&!this.ljian.isShow?(this.freshFromType(2),this.ljian.isShow=!0,TweenMax.to(this.ljian,.2,{alpha:1})):0===t&&this.ljian.isShow&&(this.freshFromType(3),this.ljian.isShow=!1,TweenMax.to(this.ljian,.2,{alpha:0}));var e=this._freshlr(this.rniu,this.right,this.rtan);e>0&&!this.rjian.isShow?(this.freshFromType(1),this.rjian.isShow=!0,TweenMax.to(this.rjian,.2,{alpha:1})):0===e&&this.rjian.isShow&&(this.rjian.isShow=!1,TweenMax.to(this.rjian,.2,{alpha:0})),1!==this.zType||this.setRairAlpha||!this.rair.alpha&&e>0&&(this.setRairAlpha=!0,this.rair.alpha=1)}},{key:"_freshlr",value:function(t,e,i){var n=Math.abs(t.rotation-Math.PI);n*=n;var r=Math.PI/4,o=Math.min(n,r),a=(r-o)/r;return e.y=a*(this.leftTanY-this.leftOriY)+this.leftOriY,i.scale.y=.88+.12*(1-a),a}},{key:"freshFromType",value:function(t){if(this.zType!==t)switch(this.zType=t){case 1:this.tipLabel.text=this.language.getLocaleStr("exhaust_stroke");break;case 2:this.tipLabel.text=this.language.getLocaleStr("suction_stroke");break;case 3:this.tipLabel.text=this.language.getLocaleStr("compression_stroke"),this.setRairAlpha=!1,this.isAning=!1;break;case 4:this.tipLabel.text=this.language.getLocaleStr("power_stroke")}}},{key:"selectRenderChild",value:function(){return this.bg.getBounds()}},{key:"removed",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"changeSpeed",value:function(t){this.speed=t.showValue}},{key:"playControl",value:function(){this.isPlay=!this.isPlay,this.freshLibPan()}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.speed=this.speed,t.isPlay=this.isPlay,t}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.speed=(0,u.get)(t,"speed",this.speed),this.isPlay=(0,u.get)(t,"isPlay",this.isPlay)}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(this.ComponentProperty.getScrollBar(this.language.getLocaleStr("speed"),!1,"",50,0,this.speed,1,this.changeSpeed,this),this.ComponentProperty.getButton("",this.language.getLocaleStr(this.isPlay?"pause":"play"),this.playControl,this)),t}},{key:"getTipMess",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTipMess",this).call(this);return t+="\n    "+this.language.getLocaleStr("speed")+": "+this.speed+"\n    "}}]),e}(c["default"])},1178:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(578),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.curTx=65,i}return o(e,t),a(e,[{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.curTx=65}}]),e}(u["default"])},1179:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canReset=!0,i.playSounding=!1,i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.allD=0,this.bgTouchId=l.M.addTouch(this.bg,{}),this.dragID=l.M.addDrag(this.gan,new l.Rectangle(this.gan.x,-542,0,301),{begin:function(e){t.cannotSystemDrag=!0,t.downY=t.gan.y},move:function(e){var i=t.gan.y-t.downY;i>0?(t.playSounding||(t.playSounding=!0,t.globalConfig.SoundTool.play(t.SoundStr.EXTINGUISHER)),(t.allD+=i)>1e3&&0===t.bg.currentFrame&&(t.bg.currentFrame=1,t._steamParticle.visible=!0,t._steamParticle2.visible=!0,t.globalConfig.SoundTool.play(t.SoundStr.INFLATE2))):0>i&&(t.playSounding=!1),t.downY=t.gan.y},end:function(e){t.cannotSystemDrag=!1}}),this._steamParticle=null,this._steamParticle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.Inflate),this._steamParticle.completeFunc=function(){t._steamParticleMaxNum=t._steamParticle.particle.maxParticles},this.add2component(this._steamParticle),this._steamParticle.x=-230,this._steamParticle.y=-110,this._steamParticle.visible=!1,this._steamParticle2=null,this._steamParticle2=this.ParticleUtil.getParticle(this.ParticleUtil.particles.Inflatenei),this._steamParticle2.completeFunc=function(){t._steamParticleMaxNum2=t._steamParticle2.particle.maxParticles},this.add2component(this._steamParticle2);var i=new PIXI.Graphics;i.beginFill(16711680,.5),i.drawRect(-280,-60,134,160),i.endFill(),this.add2component(i),this._steamParticle2.mask=i,this._steamParticle2.x=-265,this._steamParticle2.y=-36,this._steamParticle2.visible=!1,this.ticker=l.M.addTicker(function(){if(t._steamParticle.visible&&t._steamParticle.particle.maxParticles>0&&t._steamParticle.particle.maxParticles--,t._steamParticle2.visible&&t._steamParticle2.particle.maxParticles>0){t._steamParticle2.particle.maxParticles-=t._steamParticleMaxNum2/t._steamParticleMaxNum}}),this.addCursor(this.gan,"shangxia")}},{key:"reset",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.allD=0,this.bg.currentFrame=0,this._steamParticle.visible=!1,this._steamParticle2.visible=!1,this._steamParticle.particle.maxParticles=this._steamParticleMaxNum,this._steamParticle2.particle.maxParticles=this._steamParticleMaxNum2}},{key:"removed",value:function(){this.removedCursor(this.gan),this._steamParticle.completeFunc=null,this._steamParticle.destroy(),this._steamParticle2.completeFunc=null,this._steamParticle2.destroy(),l.M.removeDrag(this.gan,this.dragID),l.M.removeTouch(this.bg,this.bgTouchId),l.M.removeTicker(this.ticker),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"selectRenderChild",value:function(){return this.ping.getBounds().union(this.gan.getBounds()).union(this.bg.getBounds())}}]),e}(h["default"])},1180:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=(i(1),i(578)),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canGetDroper=!1,i.canGetTher=!1,i.canGetBoard=!1,i.canShowParticle=!1,i.type=2,i.var_num=0,i.addNumSet=.2,i.addNum=i.subNumSet,i.subNumSet=-.05,i.canReset=!0,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.top.wu.alpha=0}},{key:"reset",value:function(){this.type=2,this.top.wu.alpha=0,this.dian.alpha=1,this.curTx=0,this.sheng.currentFrame=0,this.ning.currentFrame=0}},{key:"curTxChangeEnd",value:function(){this.curTx>45?this.type=1:45>this.curTx&&(this.type=2)}},{key:"addQ",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addQ",this).call(this,t),this.addT*=10}},{key:"update",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this),++this.var_num>10&&(this.var_num=0,this.freshType())}},{key:"freshType",value:function(){if(1===this.type){if(this.sheng.totalFrames-1>this.sheng.currentFrame&&this.sheng.currentFrame++,this.top.wu.alpha>0){var t=this.top.wu.alpha-.1;t=Math.max(0,t),this.top.wu.alpha=t}this.ning.currentFrame>0&&this.ning.currentFrame--,this.dian.alpha>0&&(this.dian.alpha-=.1)}else if(this.sheng.currentFrame>0&&this.sheng.currentFrame--,1!==this.dian.alpha&&(this.ning.totalFrames-1>this.ning.currentFrame&&this.ning.currentFrame++,this.ning.currentFrame>3&&1>this.top.wu.alpha)){var t=this.top.wu.alpha+.1;t=Math.min(1,t),this.top.wu.alpha=t}}},{key:"getLocalBoundsElecs",value:function(){return[this]}}]),e}(u["default"])},1181:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.longTube=null,i.bottleWater=null,i.bottleAlcohol=null,i.canReset=!0,i.hasWater=!1,i.hasAlcohol=!1,i.mixed=!1,i.waterVolume=0,i.alcoholVolume=0,i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),l.M.removeAllChild(this),this.addOthers()}},{key:"addOthers",value:function(){var t=this,e=this.dependEquipments;this.longTube=e[0],this.bottleWater=e[1],this.bottleAlcohol=e[2],this.bottleAlcohol.noRenderSelected=!0,this.bottleWater.noRenderSelected=!0,this.longTube.getConfJumpTarget=this,this.bottleWater.getConfJumpTarget=this,this.bottleAlcohol.getConfJumpTarget=this,this.bottleWater.setLabelText(this.language.getLocaleStr("par_water")),this.bottleAlcohol.setLabelText(this.language.getLocaleStr("par_alcohol")),this.bottleAlcohol.noChangeColor=!0,this.longTube.setVolume(0),this.bottleWater.setVolume(100),this.bottleAlcohol.liquidColor=16711680,this.bottleAlcohol.setVolume(100),this.bottleWater.checkPour=function(){return t.checkPourWater()},this.bottleAlcohol.checkPour=function(){return t.checkPourAlcohol()},this.longTube.closeCallBack=function(){return t.closeCallBackTube()},this.longTube.updateSurface=function(){return t.updateSurfaceTube()}}},{key:"updateSurfaceTube",value:function(){var t=this,e=this.longTube.rect.x,i=this.longTube.rect.y,n=this.longTube.rect.width,r=this.longTube.rect.height,o=this.longTube.liquidShape;o.clear();var a=function(a,s,l,u){var h=r*s/t.longTube.totalVolume;return o.beginFill(l,u),o.drawRect(e,i+a-h,n,h),o.endFill(),a-h};if(this.mixed)a(r,this.longTube.volume,16711680,.2);else{var s=r;this.waterVolume&&(s=a(s,this.waterVolume,this.bottleWater.liquidColor,this.bottleWater.liquidAlpha)),this.hasAlcohol&&(s=a(s,this.alcoholVolume,this.bottleAlcohol.liquidColor,this.bottleAlcohol.liquidAlpha))}}},{key:"removed",value:function(){TweenMax.killAll(),this.bottleWater.checkPour=null,this.bottleAlcohol.checkPour=null,this.longTube.closeCallBack=null,this.longTube.updateSurface=null,this.removeFromFramework(this.longTube),this.removeFromFramework(this.bottleWater),this.removeFromFramework(this.bottleAlcohol),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"reset",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this),TweenMax.killAll(!0),this.bottleWater.close(),this.bottleAlcohol.close(),this.longTube.close(),this.longTube.setVolume(0),this.bottleWater.setVolume(100),this.bottleAlcohol.setVolume(100),this.hasWater=!1,this.hasAlcohol=!1,this.mixed=!1,this.waterVolume=0,this.alcoholVolume=0;var t=this.bottleWater.toLocal(new PIXI.Point(300,350),this.longTube),i=this.bottleAlcohol.toLocal(new PIXI.Point(700,350),this.longTube);this.bottleWater.bottleMoveTo(t),this.bottleAlcohol.bottleMoveTo(i),this.longTube.updateSurface(),this.freshTipMess(),this.longTube.markLine.visible=!0}},{key:"checkPourWater",value:function(){if(this.longTube.isOpened&&!this.hasWater){var t=this.pourHitTest(this.bottleWater,this.longTube);if(t)return this.hasWater=!0,this.bottleWater.pourDir=t,this.moveBottle(this.bottleWater,this.longTube,t),this.pourWater(),!0}return!1}},{key:"pourWater",value:function(){var t=this,e=this.longTube.volume,i=this.bottleWater.volume;TweenMax.to(this.longTube,.3,{volume:e+48.5,onUpdate:function(){t.longTube.updateSurface(),t.bottleWater.volume=i-(t.longTube.volume-e),t.waterVolume=t.longTube.volume-e,t.bottleWater.updateSurface(),t.freshTipMess()}})}},{key:"pourAlcohol",value:function(){var t=this,e=this.longTube.volume,i=this.bottleAlcohol.volume;TweenMax.to(this.longTube,.3,{volume:e+48.5,onUpdate:function(){t.longTube.updateSurface(),t.bottleAlcohol.volume=i-(t.longTube.volume-e),t.alcoholVolume=t.longTube.volume-e,t.bottleAlcohol.updateSurface(),t.freshTipMess()}})}},{key:"moveBottle",value:function(t,e,i){var n=void 0,r=void 0;1===i?(n=e.hitP01,r=t.hitP02):(n=e.hitP02,r=t.hitP01);var o=n.toGlobal(new PIXI.Point),a=r.toGlobal(new PIXI.Point);t.bottleMoveBy(new PIXI.Point(o.x-a.x,o.y-a.y))}},{key:"checkPourAlcohol",value:function(){if(this.longTube.isOpened){if(!this.hasWater)return!1;if(!this.hasAlcohol){var t=this.pourHitTest(this.bottleAlcohol,this.longTube);if(t)return this.hasAlcohol=!0,this.bottleAlcohol.pourDir=t,this.moveBottle(this.bottleAlcohol,this.longTube,t),this.pourAlcohol(),!0}}return!1}},{key:"pourHitTest",value:function(t,e){var i=t.hitP01.getBounds(),n=t.hitP02.getBounds(),r=e.hitP01.getBounds();return this.rectIntersect(i,e.hitP02.getBounds())?-1:this.rectIntersect(n,r)?1:0}},{key:"rectIntersect",value:function(t,e){return t=new l.Rectangle(t.x,t.y,t.width,t.height),e=new l.Rectangle(e.x,e.y,e.width,e.height),t.intersects(e)}},{key:"closeCallBackTube",value:function(){var t=this;this.hasWater&&this.hasAlcohol&&!this.mixed&&(this.mixed=!0,this.longTube.updatePivot(),this.interactiveChildren=this.interactive=!1,TweenMax.to(this.longTube,1,{delay:.3,rotation:Math.PI,repeat:5,yoyo:!0,onUpdate:function(){t.longTube.updateSurface(),t.freshTipMess()},onComplete:function(){t.longTube.setVolume(.95*t.longTube.volume),t.interactiveChildren=t.interactive=!0,t.longTube.markLine.visible=!0,t.freshTipMess()}}))}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(this.ComponentProperty.getLabel(this.language.getLocaleStr("volume_mixed_liquid"),l.M.getNumJie(this.longTube.volume,2)+"mL")),t}},{key:"getTipMess",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTipMess",this).call(this);return t+="\n    "+this.language.getLocaleStr("volume_mixed_liquid")+": "+l.M.getNumJie(this.longTube.volume,2)+"mL\n    "}},{key:"getLocalBoundsElecs",value:function(){return[this.longTube.tube]}}]),e}(h["default"])},1182:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(684),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.totalVolume=100,i.volume=0,i}return o(e,t),a(e,[{key:"added",value:function(){this.cover=this.plug,this.bottle=this.tube,this.coverAlp=this.plugAlp,this.coverP=new PIXI.Point(0,-610),this.hitRect=new PIXI.Rectangle(-70,-650,140,120),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.markLine=this.bottle.markLine,this.markLine.visible=!1,this.maskSp=this.tube.liquidMaskMc.getChildAt(0),this.liquidShape.mask=this.maskSp,this.rect=new PIXI.Rectangle(-35,-608,70,1221),this.updateSurface(),this.close()}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}},{key:"getConf",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this)}}]),e}(u["default"])},1183:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this._particle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.match_fire),this._particle.completeFunc=function(){t._maxParticles=t._particle.particle.maxParticles,t._particle.particle.maxParticles=0},this.addChild(this._particle),this._particle.bind(this.gun,this.gun.x-155+5+37,this.gun.y+5),this.gunOriP=l.M.getSPPoint(this.gun),this.gun.getMScale=function(){return t.main.view.scale},this._dragID=l.M.addDrag(this.gun,null,{begin:function(e){t.cannotSystemDrag=!0,t.gun.currentFrame=1,t._particle.particle&&(t._particle.particle.maxParticles=t._maxParticles)},move:function(e){var i=t.getChildByClassInRadius(t.gun,"Bunsen",60,new l.Point(30,-70));i=i.concat(t.getChildByClassInRadius(t.gun,"CombustionDish",60,new l.Point(30,-70))),each(i,function(t,e){e.openFire(!0)},t)},end:function(e){t.cannotSystemDrag=!1,t.gun.currentFrame=0,t.gun.alpha=0,l.M.setSPPoint(t.gun,t.gunOriP),t._particle.particle&&(t._particle.particle.maxParticles=0),t.gunTween=TweenMax.to(t.gun,1,{alpha:1,delay:1})}}),this.addCursor(this.gun,"tuozhuai")}},{key:"removed",value:function(){this.removedCursor(this.gun),this._particle.completeFunc=null,this.gun.getMScale=null,this._particle.destroy.call(this._particle),l.M.removeDrag(this.gun,this._dragID),l.M.killTweenMax(this.gunTween),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}}]),e}(h["default"])},1184:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canReset=!0,i}return o(e,t),a(e,[{key:"update",value:function(){if(this.ma.y!=this.var_bottomMaY&&!this._is_ma_down&&!this.var_is_ma_linked)if(this.ma.y>this.var_bottomMaY)this.ma.y=this.var_bottomMaY;else if(this.var_bottomMaY>this.ma.y){var t=this.ma.y+this.var_speedMa;t=Math.min(t,this.var_bottomMaY),this.ma.y=t,this.var_speedMa+=.5,this._checkLinkMa()}if(!this.var_is_gou2_linked&&!this._is_gu2_down&&this.var_bottomY>this.gou2.y){var e=this.gou2.y+this.var_speed;e=Math.min(e,this.var_bottomY),this.gou2.y=e,this.var_speed+=.5}}},{key:"_checkLinkMa",value:function(){if(this.var_is_gou2_linked&&!this.var_is_ma_linked){var t=this.toLocal(new l.Point,this.gou2.dot),e=this.toLocal(new l.Point,this.ma.dot);15>l.M.getPointLen(t,e)&&(this.var_is_ma_linked=!0,l.M.setSPPoint(this.ma,t),this.func_remove_ma_drag())}}},{key:"_initComp",value:function(){var t=this;this.var_is_gou2_linked=!1,this.var_is_ma_linked=!1,this.gou2.cu.alpha=1,this.var_topY=-109,this.var_bottomY=this.gou2.y,this.var_bottomMaY=this.ma.y,this.var_speed=0,this.var_speedMa=0,this.gou2.getMScale=function(){return t.main.view.scale},this.gou2DragID=l.M.addDrag(this.gou2,new l.Rectangle(this.gou2.x,this.var_topY,0,196),{begin:function(e){t.cannotSystemDrag=!0,t._is_gu2_down=!0},move:function(){},end:function(e){if(t.cannotSystemDrag=!1,t._is_gu2_down=!1,t.var_speed=0,!t.var_is_gou2_linked&&0==t.gou2.cu.alpha){5>t.gou2.y-t.var_topY&&(t.var_is_gou2_linked=!0,t.gou2.y=t.var_topY,t.func_remove_gou2_drag())}}},this),this.ma.getMScale=function(){return t.main.view.scale},this.maDragID=l.M.addDrag(this.ma,null,{begin:function(e){t.cannotSystemDrag=!0,t._is_ma_down=!0},end:function(e){t.cannotSystemDrag=!1,t.var_speedMa=0,t._is_ma_down=!1,t.var_is_gou2_linked&&t._checkLinkMa()}},this)}},{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.gou2OriP=l.M.getSPPoint(this.gou2),this.maOriP=l.M.getSPPoint(this.ma),this.moOriP=l.M.getSPPoint(this.mo),this.mo.getMScale=function(){return t.main.view.scale},this.moTouchID=l.M.addDrag(this.mo,null,{begin:function(e){t.cannotSystemDrag=!0},move:function(e){var i=t.gou2.dot2.toGlobal(new l.Point);if(t.mo.getBounds().contains(i.x,i.y)&&t.gou2.cu.alpha>0){var n=t.gou2.cu.alpha-.05;n=Math.max(0,n),t.gou2.cu.alpha=n}},end:function(e){t.cannotSystemDrag=!1}},this),this._initComp(),this.addCursor(this.mo,"tuozhuai"),this.addCursor(this.ma,"tuozhuai"),this.addCursor(this.gou2,"shangxia")}},{key:"reset",value:function(){this.func_remove_ma_drag(),this.func_remove_gou2_drag(),l.M.setSPPoint(this.gou2,this.gou2OriP),l.M.setSPPoint(this.ma,this.maOriP),l.M.setSPPoint(this.mo,this.moOriP),this._initComp()}},{key:"func_remove_gou2_drag",value:function(){l.M.removeDrag(this.gou2,this.gou2DragID)}},{key:"func_remove_ma_drag",value:function(){l.M.removeDrag(this.ma,this.maDragID)}},{key:"removed",value:function(){this.removedCursor(this.mo),this.removedCursor(this.ma),this.removedCursor(this.gou2),this.func_remove_gou2_drag(),this.func_remove_ma_drag(),l.M.removeDrag(this.mo,this.moTouchID),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(h["default"])},1185:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canReset=!0,i}return o(e,t),a(e,[{key:"reset",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this);var t=this.main,i=l.M.getSPPoint(this.parent);t.hideConfPan();var n=this.addComp([{name:"Oilslick",p:i}]).then(function(){t.setCurElec(n),setTimeout(function(){t.checkPageBlankVisible()},10)});t.removeEquipment.call(t,this)}},{key:"initSafen",value:function(){var t=this;this.fenSp=new PIXI.Graphics,this.addChild(this.fenSp),this.fenTOriP=l.M.getSPPoint(this.fenT),this.fenT.getMScale=function(){return t.main.view.scale},this.fenDragID=l.M.addDrag(this.fenT,null,{begin:function(e){t.cannotSystemDrag=!0},end:function(e){t.cannotSystemDrag=!1,t.fenT.x>-330&&370>t.fenT.x&&t.fenT.y>-460&&109>t.fenT.y?(l.M.removeDrag(t.fenT,t.fenDragID),t._aspeed=.1,t._speed=-10,TweenMax.to(t.fenT,.5,{x:-260,y:-400,rotation:Math.PI,onComplete:function(){t._startFen=!0,t._FenYiNum=0,t._fenArr=[],t.ticker.start()}})):t.setFenToOri()}},this),this.addCursor(this.fenT,"tuozhuai")}},{key:"loop",value:function(){var t=this;if(this._startFen){this.fenT.rotation>Math.PI+Math.PI/6&&(this._aspeed=-Math.abs(this._aspeed)),this.fenT.rotation<Math.PI-Math.PI/6&&(this._aspeed=Math.abs(this._aspeed)),this.fenT.rotation+=this._aspeed,-260>this.fenT.x&&(this._speed=Math.abs(this._speed));var e=!1;if(this.fenT.x>280&&(this._speed=-Math.abs(this._speed),2>++this._FenYiNum||(e=!0)),e)this._startFen=!1,this.setFenToOri(),this.initDiyou();else{this.fenT.x+=this._speed;var i=new c;this._fenArr.push(i),i.maxy=300*Math.random()-300,i.dre=this.fenT.rotation,i.x=this.fenT.x+20*Math.random(),i.y=this.fenT.y+50*Math.random(),i.speed=3+5*Math.random(),i.r=1+2*Math.random()}}if(this.fenSp.clear(),this._fenArr.length>0){this.fenSp.beginFill(16777215),each(this._fenArr,function(e,i){i&&(t.fenSp.drawCircle(i.x,i.y,i.r),i.update(),i.y>i.maxy&&t._fenArr.splice(t._fenArr.indexOf(i),1))});var n=this.full.alpha+.005;n=Math.min(1,n),this.full.alpha=n}if(this._isPenPlay)if(this._drawIndex==this.youhuaPArr.length)this._isPenPlay=!1,this.gui.lineTo(this.youhuaPArr[0].x,this.youhuaPArr[0].y),this.showWang();else{var r=this.youhuaPArr[this._drawIndex];if(l.M.setSPPoint(this.pen,r),this._drawIndex>0){var o=this.youhuaPArr[this._drawIndex-1];this.gui.moveTo(o.x,o.y),this.gui.lineTo(r.x,r.y)}this._drawIndex++}}},{key:"setFenToOri",value:function(){TweenMax.to(this.fenT,.5,{x:this.fenTOriP.x,y:this.fenTOriP.y,rotation:0})}},{key:"initDiyou",value:function(){var t=this;this.zhenCompOriP=l.M.getSPPoint(this.zhenComp),this.zhenComp.getMScale=function(){return t.main.view.scale},this.zhenCompID=l.M.addDrag(this.zhenComp,null,{begin:function(e){t.cannotSystemDrag=!0},end:function(e){t.cannotSystemDrag=!1,t.zhenComp.x>-330&&370>t.zhenComp.x&&t.zhenComp.y>-460&&109>t.zhenComp.y?(l.M.removeDrag(t.zhenComp,t.zhenCompID),TweenMax.to(t.zhenComp,.5,{x:0,y:-450,onComplete:function(){t._startYou=!0,t.oil.visible=!0,t.oil.x=-6,t.oil.y=t.zhenComp.y+180,TweenLite.to(t.oil,.5,{y:0,onComplete:function(){t.koushua()}})}})):t.setDiyouToOri()}},this),this.addCursor(this.zhenComp,"tuozhuai")}},{key:"koushua",value:function(){var t=this;this.oil.visible=!1,this.zhe.visible=!0,this.zhe.x=0,this.zhe.y=0,this.zhe.scale.x=this.zhe.scale.y=.1,TweenLite.to(this.zhe.scale,.7,{x:1,y:1,ease:com.greensock.easing.Back.easeOut,onComplete:function(){t.diend()}})}},{key:"diend",value:function(){var t=this;this.setDiyouToOri(function(){t.meng.visible=!0,t.meng.alpha=0,TweenMax.to(t.meng,.5,{alpha:1,onComplete:function(){t.pen.visible=!0;var e=t.pen.x,i=t.pen.y;t.pen.x+=500,t.pen.y-=500,t.pen.rotation=Math.PI/2,TweenMax.to(t.pen,.5,{x:e,y:i,rotation:0})}})})}},{key:"setDiyouToOri",value:function(t){TweenMax.to(this.zhenComp,.5,{x:this.zhenCompOriP.x,y:this.zhenCompOriP.y,onComplete:function(){t&&t()}})}},{key:"initPen",value:function(){var t=this;this.pen.getMScale=function(){return t.main.view.scale},this.var_penDragID=l.M.addDrag(this.pen,null,{begin:function(e){t.cannotSystemDrag=!0},end:function(e){t.cannotSystemDrag=!1,TweenMax.to(t.pen,.5,{x:t.youhuaPArr[0].x,y:t.youhuaPArr[0].y,onComplete:function(){t._drawIndex=0,t.gui.clear(),t.gui.lineStyle(5,16776960),t._isPenPlay=!0}})}},this),this.addCursor(this.pen,"tuozhuai")}},{key:"showWang",value:function(){this.gui.visible=!1,this.pen.visible=!1,this.bg.visible=!1,this.full.visible=!1,this.meng.visible=!1,this.zhe.visible=!1,this.wang.scale.x=.9,this.wang.scale.y=.9,this.wang.visible=!0,TweenMax.to(this.wang.scale,.5,{x:1,y:1})}},{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.pen.visible=!1,this.wang.visible=!1,this.meng.visible=!1,this.full.alpha=0,this.oil.visible=!1,this.hua.visible=!1,this.ticker=l.M.addTicker(this.loop,this,!1),this.youhuaPArr=[{x:50.95,y:-58.6},{x:41.8,y:-64.2},{x:32.7,y:-70.15},{x:27.3,y:-67.8},{x:23.6,y:-65.45},{x:19.55,y:-68.05},{x:12.4,y:-73.75},{x:8.95,y:-76.3},{x:-1.6,y:-81.7},{x:-4.05,y:-82.05},{x:-5,y:-81.9},{x:-6.35,y:-81.55},{x:-12.4,y:-79.25},{x:-22.5,y:-76.5},{x:-27.45,y:-77.35},{x:-31.85,y:-78.2},{x:-31.85,y:-76.1},{x:-48.8,y:-75.1},{x:-63,y:-73.35},{x:-72.8,y:-65.35},{x:-81.95,y:-59.5},{x:-85.55,y:-59.95},{x:-89.2,y:-60.35},{x:-92.15,y:-59.95},{x:-95.15,y:-56.75},{x:-94.7,y:-54.3},{x:-94.3,y:-51.9},{x:-97.4,y:-45.3},{x:-104.25,y:-41},{x:-111.15,y:-35.85},{x:-114.25,y:-26.6},{x:-111.7,y:-22.5},{x:-109.15,y:-19.6},{x:-110,y:-17.95},{x:-110.85,y:-15.8},{x:-109.15,y:-14.9},{x:-107.85,y:-14.5},{x:-105.05,y:-14.9},{x:-100.75,y:-5.55},{x:-90.65,y:4.6},{x:-89,y:2.8},{x:-87.5,y:-.9},{x:-84.95,y:-.9},{x:-73.2,y:5.9},{x:-67.1,y:16.05},{x:-72,y:30.9},{x:-76.85,y:38.8},{x:-75.15,y:41.15},{x:-72.2,y:42},{x:-68.8,y:39.85},{x:-61.15,y:37.75},{x:-56.8,y:40.1},{x:-52.65,y:44.1},{x:-47.45,y:45.5},{x:-41.6,y:47.1},{x:-30.9,y:49.7},{x:-10.6,y:50.45},{x:42.5,y:51.3},{x:78,y:50.9},{x:98.15,y:50.9},{x:97.3,y:48.6},{x:96.45,y:45.4},{x:98.4,y:40.15},{x:103.25,y:30.95},{x:115.35,y:18.2},{x:119.4,y:19.9},{x:121.5,y:19.9},{x:123.95,y:15.1},{x:125.75,y:9.05},{x:125.05,y:2.95},{x:123,y:1.25},{x:119.8,y:.4},{x:115.55,y:-3.05},{x:115.55,y:-6.85},{x:116.85,y:-6.85},{x:114.4,y:-14},{x:111.3,y:-20.85},{x:114.1,y:-22.7},{x:115.15,y:-24.5},{x:111.6,y:-28.1},{x:103.7,y:-30.4},{x:95.8,y:-32.8},{x:92.2,y:-36.6},{x:94.15,y:-38.4},{x:96.45,y:-40},{x:95.05,y:-40.2},{x:93.5,y:-40.4},{x:83.7,y:-38.05},{x:78,y:-35.75},{x:68.05,y:-39.55},{x:61.15,y:-46.55},{x:64.8,y:-49.75},{x:68.45,y:-52.95},{x:68.2,y:-53.9},{x:68,y:-54.4},{x:61.15,y:-54.9},{x:52.5,y:-58.35}],this.zhe=new PIXI.Graphics,this.addChildAt(this.zhe,this.getChildIndex(this.pen)),this.zhe.beginFill(0,.6),l.M.linePath(this.zhe,this.youhuaPArr),this.zhe.visible=!1,this.gui=new PIXI.Graphics,this.addChildAt(this.gui,this.getChildIndex(this.pen)),this.initSafen(),this.initPen()}},{key:"removed",value:function(){this.removedCursor(this.fenT),this.removedCursor(this.zhenComp),this.removedCursor(this.pen),this.pen.getMScale=null,this.fenT.getMScale=null,this.zhenComp.getMScale=null,this.ticker.stop(),this.ticker=null,this.fenT&&l.M.removeDrag(this.fenT,this.fenDragID),this.zhenCompID&&l.M.removeDrag(this.zhenComp,this.zhenCompID),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"selectRenderChild",value:function(){return this.full.visible?this.full.getBounds():this.wang.getBounds()}}]),e}(h["default"]);var c=function(){function t(){n(this,t),this.maxy=0,this.dre=0,this.speed=0,this.x=0,this.y=0,this.r=0}return a(t,[{key:"update",value:function(){this.y+=this.speed,this.x+=Math.sin(this.dre)*this.speed}}]),t}()},1186:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(686),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.rongNum=50,i.binddis=null,i}return o(e,t),a(e,[{key:"bindingDis",value:function(t){this.binddis=t,this.hidemc(this.thermometer,!0),this.hidemc(this.bg2,!0),this.hidemc(this.zoom,!0),this.hidemc(this.zoom2,!0),this.hidemc(this.bg.alphaSP,!0),this.hidemc(this.bg.line,!0)}},{key:"hidemc",value:function(t,e){e?(t.interactive=!1,t.interactiveChildren=!1,t.alpha=0):(t.interactive=!0,t.interactiveChildren=!0,t.alpha=1)}},{key:"unBindingDis",value:function(){this.binddis=null,this.hidemc(this.thermometer,!1),this.hidemc(this.bg2,!1),this.hidemc(this.zoom,!1),this.hidemc(this.zoom2,!1),this.hidemc(this.bg.alphaSP,!1),this.hidemc(this.bg.line,!1)}},{key:"update",value:function(t){var i=this.getTByY(this.thermometer.y);this.curTx>this.rongNum&&i>=this.rongNum&&this.bg.pao.currentFrame!==this.bg.pao.totalFrames-1?(this.tNum+=.03+.02*this.timeRate,this.bg.pao.currentFrame=Math.floor(this.tNum),this.bg2.pao.currentFrame=this.bg.pao.currentFrame):this.rongNum>this.curTx&&this.rongNum>=i&&0!==this.bg.pao.currentFrame&&(this.tNum-=.03+.02*this.timeRate,this.bg.pao.currentFrame=Math.ceil(this.tNum),this.bg2.pao.currentFrame=this.bg.pao.currentFrame),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t)}}]),e}(u["default"])},1187:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(684),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.glassCover=null,i.glassCoverAlp=null,i.bottle=null,i.labelBg=null,i.labelTf=null,i.isOpened=!1,i.battleMask=null,i.totalVolume=200,i.volume=100,i}return o(e,t),a(e,[{key:"added",value:function(){this.cover=this.glassCover,this.bottle=this.bottle,this.coverAlp=this.glassCoverAlp,this.coverP=new PIXI.Point(0,-222),this.hitRect=new PIXI.Rectangle(-200,-342,400,320),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.updateSurface(),this.rect=new PIXI.Rectangle(-145,-250,290,492),this.labelBg=this.bottle.labelBg,this.labelTf=this.bottle.labelTf,this.bottle.mask=this.bottle.bottleMask.getChildAt(0),this.labelBgOx=this.labelBg.x,this.labelTfOx=this.labelTf.x}},{key:"pourBegin",value:function(){this.labelBg.x=0+this.hitRect.width/2,this.labelTf.x=this.hitRect.width/2-83}},{key:"pourEnd",value:function(){this.labelBg.x=this.labelBgOx,this.labelTf.x=this.labelTfOx}},{key:"removed",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"setLabelText",value:function(t){this.labelTf.text=t}},{key:"showLabel",value:function(t){this.labelBg.visible=this.labelTf.visible=t}}]),e}(u["default"])},1188:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bindBrandreth=null,i.level=4,i.curTx=20,i.var_startTx=90,i.var_isSai=!0,i.var_currentTx=20,i.canReset=!0,i.bunsenFlameMaskPoint=new l.Point(-68,80),i}return o(e,t),a(e,[{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.var_oriMaoP=l.M.getSPPoint(this.mao);var t=0,i=function(){4===++t&&this.func__loadPaticleOK()};this.var_bubbleParticle0=this.func_create_paticle(this.ParticleUtil.particles.penStream,50,-60,i),this.var_bubbleParticle1=this.func_create_paticle(this.ParticleUtil.particles.tubeParticle,-85,70,i),this.var_bubbleParticle2=this.func_create_paticle(this.ParticleUtil.particles.tubeSteam,-20,0,i),this.var_bubbleParticle3=this.func_create_paticle(this.ParticleUtil.particles.tubeOutSteam,0,0,i),this.main.otherContainer.addChild(this.var_bubbleParticle3),this.var_bubbleParticle3.bind(this,50,-60),this.freshShowBubbleProx=this.freshShowBubble.bind(this),this.main.addEventListener("endFore",this.freshShowBubbleProx),this.main.addEventListener("endEnd",this.freshShowBubbleProx)}},{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBunsenFlame()}},{key:"beginEnd",value:function(t){this.bindBrandreth&&(this.bindBrandreth.bindTube=null,this.bindBrandreth.bindHandle.call(this.bindBrandreth),this.bindBrandreth=null,this.curTx=20),this.freshBunsenFlame()}},{key:"endEnd",value:function(t){var e=this;if(!this.bindBrandreth){var i=this.getChildByClassInRadius(this,"Brandreth_table",150,new l.Point(70,40));each(i,function(t,i){if(!i.bindTube)return i.bindTube=e,e.bindBrandreth=i,e.freshBindLocation(),e.bindBrandreth.bindHandle.call(e.bindBrandreth),e.playXIFUSound(),!1},this)}this.freshBunsenFlame()}},{key:"setDataOver",value:function(t){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj.bindBrandrethUID){var i=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBrandrethUID);i&&(i.bindTube=this,this.bindBrandreth=i,this.freshBindLocation(),this.bindBrandreth.bindHandle.call(this.bindBrandreth))}}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return this.bindBrandreth&&(t.bindBrandrethUID=this.bindBrandreth.UID),t}},{key:"freshBindLocation",value:function(t){if(this.bindBrandreth){this.parent.parent.updateTransform();var e=this.parent.parent.toLocal(new l.Point(70,40),this.bindBrandreth);l.M.setSPPoint(this.parent,e)}}},{key:"update",value:function(t){this.freshParticle()}},{key:"freshShowBubble",value:function(){this.freshParticle()}},{key:"freshParticle",value:function(){var t=void 0;if(this.isOpenFire=_.get(this,"bindBrandreth.bindBunsen.isOpenFire",!1),this.curTx>this.var_currentTx?(t=.002*(this.curTx-this.var_currentTx),t=Math.max(t,.001),this.var_currentTx+=t,this.var_currentTx=Math.min(this.curTx,this.var_currentTx)):this.var_currentTx>this.curTx&&(this.var_currentTx-=.05,this.var_currentTx=Math.max(this.curTx,this.var_currentTx)),this.var_currentTx>this.var_startTx&&this.var_isSai&&(this.var_isSai=!1,this.globalConfig.SoundTool.play(this.SoundStr.BA_SAI),this.var_bubbleParticle0.particle.maxParticles=3e3),this.var_currentTx>this.var_startTx?this.var_isSai||this.playShuiSound(!0):this.var_startTx>this.var_currentTx&&this.playShuiSound(!1),!this.var_isSai&&this.mao.visible){l.M.getPointLen(this.var_oriMaoP,this.mao)>2e3?(this.mao.visible=!1,this.var_bubbleParticle0.particle.maxParticles=0):(this.mao.x+=100,this.mao.y-=100)}this.mao.visible||this.func_fresh_particle(),this.func_func_fresh_particle1()}},{key:"func_create_paticle",value:function(t,e,i,n){var r=this,o=this.ParticleUtil.getParticle(t);return this.addChildAt(o,0),o.x=e,o.y=i,o.$this=this,o.completeFunc=function(){o.particle.maxParticles=0,n&&n.call(r)},o}},{key:"func_func_fresh_particle1",value:function(){var t=(this.var_currentTx-this.var_startTx+15)/100;t=Math.max(0,t),this.isOpenFire||(t=0),this.var_bubbleParticle1.particle&&(this.var_bubbleParticle1.particle.maxParticles=100*t)}},{key:"func_fresh_particle",value:function(){var t=(this.var_currentTx-this.var_startTx)/100;t=Math.max(0,t),this.var_bubbleParticle2.particle&&(this.var_bubbleParticle2.particle.maxParticles=100*t),this.var_bubbleParticle3.particle&&(this.var_bubbleParticle3.particle.maxParticles=500*t)}},{key:"func__loadPaticleOK",value:function(){this.func_fresh_particle(0)}},{key:"removed",value:function(){this.main.removeEventListener("endFore",this.freshShowBubbleProx),this.main.removeEventListener("endEnd",this.freshShowBubbleProx),this.var_bubbleParticle0.destroy.call(this.var_bubbleParticle0),this.var_bubbleParticle1.destroy.call(this.var_bubbleParticle1),this.var_bubbleParticle2.destroy.call(this.var_bubbleParticle2),this.var_bubbleParticle3.destroy.call(this.var_bubbleParticle3),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"reset",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.var_currentTx=20,this.var_isSai=!0,this.mao.visible=!0,l.M.setSPPoint(this.mao,this.var_oriMaoP),this.var_bubbleParticle2.particle.maxParticles=0,this.var_bubbleParticle3.particle.maxParticles=0}}]),e}(h["default"])},1189:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(687),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._curTx=20,i.bindBei=null,i._to_line_h=null,i.thermometer_y=null,i.level=6,i.lcType=0,i}return o(e,t),a(e,[{key:"added",value:function(){this.skinSmall=this.bg,this.skinBig=this.thermometer,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.range.visible=!1}},{key:"show_zoom",value:function(t){this.thermometer.mask.visible=this.thermometer.visible=this.zoom.visible=this.zoomBg.visible=t}},{key:"beginEnd",value:function(t){this.bindBei&&(this.mc.currentFrame=0),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"beginEnd",this).call(this,t)}},{key:"getData",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this)}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}},{key:"freshShowType",value:function(){this.bindBei?("Cold_water"!=this.bindBei.classname&&"Hot_water"!=this.bindBei.classname||(this.mc.currentFrame=1),"Cold_fat"==this.bindBei.classname&&(this.mc.currentFrame=2)):this.mc.currentFrame=0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"freshShowType",this).call(this)}},{key:"getConf",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this)}},{key:"getTipMess",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTipMess",this).call(this);return t+="\n    "+this.language.getLocaleStr("range")+": "+this.liangchengArr[this.lcType]+"\n    "}}]),e}(u["default"])},1190:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(456),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.level=1,i.bindGauze=null,i.bindBei=null,i.bindBunsen=null,i}return o(e,t),a(e,[{key:"moveEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation()}},{key:"freshBindLocation",value:function(t){this.bindGauze&&this.bindGauze.freshBindLocation(),this.bindBei&&this.bindBei.freshBindLocation(),this.bindBunsen&&this.bindBunsen.freshBindLocation.call(this.bindBunsen)}},{key:"freshWaterBindHandle",value:function(t){}},{key:"bindHandle",value:function(){this.bindGauze&&this.bindBei&&this.bindBunsen&&this.bindBunsen.isOpenFire?this.bindBei.addNum=this.bindBei.addNumSet:this.bindBei&&(this.bindBei.addNum=this.bindBei.subNumSet)}}]),e}(u["default"])},1191:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(686),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.rongNum=48,i.binddis=null,i}return o(e,t),a(e,[{key:"bindingDis",value:function(t){this.binddis=t,this.hidemc(this.thermometer,!0),this.hidemc(this.bg2,!0),this.hidemc(this.zoom,!0),this.hidemc(this.zoom2,!0),this.hidemc(this.bg.alphaSP,!0),this.hidemc(this.bg.line,!0)}},{key:"hidemc",value:function(t,e){e?(t.interactive=!1,t.interactiveChildren=!1,t.alpha=0):(t.interactive=!0,t.interactiveChildren=!0,t.alpha=1)}},{key:"unBindingDis",value:function(){this.binddis=null,this.hidemc(this.thermometer,!1),this.hidemc(this.bg2,!1),this.hidemc(this.zoom,!1),this.hidemc(this.zoom2,!1),this.hidemc(this.bg.alphaSP,!1),this.hidemc(this.bg.line,!1)}},{key:"update",value:function(t){var i=this.getTByY(this.thermometer.y);return this.curTx>this.rongNum&&i>=this.rongNum&&this.bg.pao.currentFrame!==this.bg.pao.totalFrames-1?(this.tNum+=.03+.02*this.timeRate,this.bg.pao.currentFrame=Math.floor(this.tNum),this.bg2.pao.currentFrame=this.bg.pao.currentFrame,void(this.thermometer_y=this.getYByT(this.rongNum))):this.rongNum>this.curTx&&this.rongNum>=i&&0!==this.bg.pao.currentFrame?(this.tNum-=.03+.02*this.timeRate,this.bg.pao.currentFrame=Math.ceil(this.tNum),this.bg2.pao.currentFrame=this.bg.pao.currentFrame,void(this.thermometer_y=this.getYByT(this.rongNum))):(this.thermometer_y=this.getYByT(this.curTx),this.tNum=this.bg.pao.currentFrame,void s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t))}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}}]),e}(u["default"])},445:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=i(456),o=(n(r),i(1158)),a=n(o);a["default"].classList={Cold_water:n(i(578))["default"],Thermometer:n(i(1189))["default"],BoardWithHole:n(i(1164))["default"],Hot_water:n(i(1178))["default"],Cold_fat:n(i(1169))["default"],Brandreth_table_B:n(i(1166))["default"],Gauze_with_asbestos:n(i(1176))["default"],Bunsen:n(i(1167))["default"],BunsenGap:n(i(1168))["default"],Match:n(i(1183))["default"],Dropper:n(i(1171))["default"],DropperXi:n(i(1173))["default"],DropperWater:n(i(1172))["default"],Tripod:n(i(1190))["default"],Iodine_water:n(i(1180))["default"],Paraffin:n(i(1186))["default"],Wave:n(i(1191))["default"],Brandreth_table:n(i(1165))["default"],Test_tube:n(i(1188))["default"],Gas_bottle:n(i(1175))["default"],Extinguisher:n(i(1174))["default"],Inflate:n(i(1179))["default"],HeatEngine:n(i(1177))["default"],Oilslick:n(i(1185))["default"],MoleculeExp:n(i(1184))["default"],LiquidMixing:n(i(1181))["default"],LongTestTube:n(i(1182))["default"],ReagentBottleThermal:n(i(1187))["default"],ComTimerNew:n(i(545))["default"],SensorPascal:n(i(1160))["default"],SensorTemperature:n(i(1162))["default"],Syringe:n(i(1163))["default"],SensorFrictionHeat:n(i(1159))["default"],CombustionDish:n(i(1170))["default"],SensorTempAndPascal:n(i(1161))["default"]},e["default"]=a["default"]},456:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(226),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bunsenFlameMaskPoint=null,i.timeRate=isNaN(i.main.globalConfig.TIME_RATE)?1:i.main.globalConfig.TIME_RATE,i}return o(e,t),a(e,[{key:"added",value:function(){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.globalConfig.DEBUG&&this.bunsenFlameMaskPoint){var t=new PIXI.Graphics;t.beginFill(16711680),t.drawCircle(this.bunsenFlameMaskPoint.x,this.bunsenFlameMaskPoint.y,5),t.endFill(),this.addChild(t)}}},{key:"playShuiSound",value:function(t){var e=this;this.globalConfig&&(1===this.globalConfig.VOLUME&&t?this.shuisoundplaying||(this.shuisoundplaying=!0,this.globalConfig.SoundTool.registAndPlay(this.SoundStr.SHUI,null,null,null,!0).then(function(t){e.shuisound=t.instance})):this.shuisoundplaying&&(this.shuisoundplaying=!1,this.globalConfig.SoundTool.stopT(this.shuisound),this.shuisound=null))}},{key:"playXIFUSound",value:function(){var t=this;1===this.globalConfig.VOLUME&&this.globalConfig.SoundTool.registAndPlay(this.SoundStr.XIFU).then(function(e){t.xifusound=e.instance})}},{key:"playSHUIDISound",value:function(t){var e=this;t===undefined&&(t=!0),1===this.globalConfig.VOLUME&&t?this.shuidisound||this.globalConfig.SoundTool.registAndPlay(this.SoundStr.SHUIDI,0,function(){e.shuidisound=null},null,this).then(function(t){e.shuidisound=t.instance}):this.shuidisound&&(this.shuidisound.destroy(),this.shuidisound=null)}},{key:"removed",value:function(){this.playShuiSound(!1),this.playXIFUSound(!1),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"freshBunsenFlame",value:function(){this.getChildrenByClass("Bunsen").forEach(function(t){t.freshMyFlame()})}}]),e}(u["default"])},458:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(50),s=n(a),l=i(472),u=n(l),h=void 0,c=function(){function t(e){r(this,t),this.config=Object.assign({},e),this.config.moduleMain=this,h=this,this.moduleType=-1,this.active=!1,this.hasInit=!1,this.cachePool=new u["default"],this.looplist=[]}return o(t,[{key:"getModuleType",value:function(){return this.constructor.MODULE_TYPE}},{key:"init",value:function(){this.hasInit=!0}},{key:"addPhysicsCanvasListeners",value:function(){var t=this.config.main;this.onRemoveEquipmentProx||(this.onRemoveEquipmentProx=this.onRemoveEquipment.bind(this),this.onCanvasDomClickProx=this.onCanvasDomClick.bind(this),this.onSetDataCompleteProx=this.onSetDataComplete.bind(this)),t.addEventListener(s["default"].REMOVE_EQUIPMENT,this.onRemoveEquipmentProx),t.addEventListener(s["default"].CANVAS_DOM_CLICK,this.onCanvasDomClickProx),t.addEventListener(s["default"].SET_DATA_COMPLETE,this.onSetDataCompleteProx)}},{key:"removePhysicsCanvasListeners",value:function(){var t=this.config.main;t.removeEventListener(s["default"].REMOVE_EQUIPMENT,this.onRemoveEquipmentProx),t.removeEventListener(s["default"].CANVAS_DOM_CLICK,this.onCanvasDomClickProx),t.removeEventListener(s["default"].SET_DATA_COMPLETE,this.onSetDataCompleteProx)}},{key:"canvasLock",value:function(t){}},{key:"onRemoveEquipment",value:function(){}},{key:"onCanvasDomClick",value:function(t){}},{key:"onSetDataComplete",value:function(){}},{key:"onShowAllEquip",value:function(){}},{key:"setActive",value:function(t){this.active=t,8===this.moduleType?t?(PIXI.settings.RESOLUTION=1,this.forceAndMotion.resize()):PIXI.settings.RESOLUTION=this.globalConfig.RESOLUTION:PIXI.settings.RESOLUTION!==this.globalConfig.RESOLUTION&&(PIXI.settings.RESOLUTION=this.globalConfig.RESOLUTION),t?this.addPhysicsCanvasListeners():this.removePhysicsCanvasListeners()}},{key:"enterModule",value:function(t){return Promise.resolve()}},{key:"destroy",value:function(){this.removePhysicsCanvasListeners(),this.config.moduleMain=null,this.config=null,this.onRemoveEquipmentProx=null,this.onCanvasDomClickProx=null,this.onSetDataCompleteProx=null,this.hasInit=null,this.active=null}},{key:"updateEqu",value:function(){for(var t=this.main.getEquipmentArr(!0),e=0;t.length>e;e++){var i=t[e];if(i.update)try{i.update()}catch(n){}}}},{key:"getData",value:function(){return{}}},{key:"setData",value:function(t){}},{key:"startRecoverEqu",value:function(){}},{key:"completeRecoverEqu",value:function(){}},{key:"setDataBefore",value:function(){return Promise.resolve()}},{key:"requestAnimationLoop",value:function(){this.updateEqu(),this.main&&this.main.disComp&&this.main.disComp.update(),this.foreachLooplist()}},{key:"foreachLooplist",value:function(){for(var t=0;this.looplist.length>t;t++){var e=this.looplist[t];e.update&&e.update()}}},{key:"main",get:function(){return this.config?this.config.main:null}},{key:"equipmentUtil",get:function(){return this.main.equipmentUtil}},{key:"globalConfig",get:function(){return this.main.globalConfig}},{key:"language",get:function(){return this.main.language}},{key:"SoundTool",get:function(){return this.main.globalConfig.SoundTool}},{key:"phy",get:function(){return this.main.phy}},{key:"ParticleUtil",get:function(){return this.config.ParticleUtil}},{key:"SoundStr",get:function(){return this.config.SoundStr}},{key:"Button",get:function(){return this.config.Button}},{key:"HoverButton",get:function(){return this.config.HoverButton}},{key:"ComponentProperty",get:function(){return this.config.ComponentProperty}},{key:"NBCommand",get:function(){return this.config.NBCommand}},{key:"MouseManager",get:function(){return this.config.MouseManager}},{key:"NBDrag",get:function(){return this.config.NBDrag}},{key:"UploadSkinTool",get:function(){return this.config.UploadSkinTool}},{key:"NBEvent",get:function(){return this.config.NBEvent}}],[{key:"getInstance",value:function(){return h}}]),t}();window.each=function(t,e,i){var n=void 0;for(n=0;t&&t.length>n;n++){if(!1===(i?e.call(i,n,t[n]):e.call(t[n],n,t[n])))break}},e["default"]=c},472:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e["default"]=function(){function t(){n(this,t),this.graphicsList=[],this.textList=[],this.elecWiredots=[],this.threeList={}}return r(t,[{key:"disposeAll",value:function(){this.graphicsList.length=0,this.textList.length=0,this.elecWiredots.length=0;for(var t=Object.keys(this.threeList),e=0;t.length>e;e++)for(var i=this.threeList[t[e]],n=0;i.length>n;n++)try{var r=i[n];r.removed&&r.removed()}catch(o){}this.threeList={}}},{key:"resetAll",value:function(t){t.x=0,t.y=0,t.pivot.x=0,t.pivot.y=0,t.scale.x=1,t.scale.y=1,t.rotation=0}},{key:"pushGraphic",value:function(t){t.clear(),this.resetAll(t),this.graphicsList.push(t)}},{key:"popGraphic",value:function(){var t=this.graphicsList.pop();return t&&t.transform||(t=new PIXI.Graphics),t}},{key:"pushText",value:function(t){t.text="",this.resetAll(t),this.textList.push(t)}},{key:"popText",value:function(t,e){var i=this.textList.pop();return i||(t=t||"",e=e||"",i=new PIXI.Text(t,e)),i}},{key:"pushElecDot",value:function(t){this.elecWiredots.push(t)}},{key:"popElecDot",value:function(){return this.elecWiredots.pop()}},{key:"pushThreeClass",value:function(t,e){var i=this.threeList[t];i||(i=[],this.threeList[t]=i),this.resetAll(e),i.push(e)}},{key:"popThreeClass",value:function(t,e,i){var n=this.threeList[t],r=null;return n&&(r=n.pop()),r||(r=new e(i)),r}}]),t}()},545:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(226),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.txt=i.globalConfig.main.cachePool.popText("",{font:"25px Arial",fill:16750848}),i.cateid=5,i.var_now_T=0,i.is_animation_playing=!1,i.isStart=!1,i.start_time=null,i.my_time=0,i.lineSP=null,i.pauseTime=null,i.isshowlabel=!0,i.tic=null,i.sound=null,i.topTouchId=null,i.rightTouchId=null,i.jd=1,i.timeRate=isNaN(i.main.globalConfig.TIME_RATE)?1:i.main.globalConfig.TIME_RATE,i.preT=0,i.runT=0,i}return o(e,t),a(e,[{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this);var i=this.language.getLocaleStr("wei");this.jdArr=["1"+i,"2"+i],this.timeType=0,this.timeTypeArr=[this.language.getLocaleStr("virtual_time"),this.language.getLocaleStr("standard_time")],this.parent.dragArea=this.bg,this.componentBox.visible=!1,this.removeChild(this.componentBox),this.addChild(this.txt),this.tline.visible=!1,this.txt.x=-240,this.txt.y=-220,this.topOriY=this.top.y,this.topTouchId=l.M.addTouch(this.top,{tab:this.topBtnClick,begin:function(e){t.top.y=t.topOriY+10,t.cannotSystemDrag=!0},end:function(e){t.top.y=t.topOriY,t.cannotSystemDrag=!1}},this);var n=l.M.getSPPoint(this.right);this.rightTouchId=l.M.addTouch(this.right,{tab:this.rightBtnClick,begin:function(e){l.M.setSPPointXY(t.right,n.x+5,n.y+5),t.cannotSystemDrag=!0},end:function(e){l.M.setSPPoint(t.right,n),t.cannotSystemDrag=!1}},this,{time:300,dis:15}),this.freshEquipShows(this.globalConfig.SHOWEQUVALUE),this.addCursor(this.top,"hand"),this.addCursor(this.right,"hand")}},{key:"rightBtnClick",value:function(t){this.playStop()}},{key:"topBtnClick",value:function(t){this.isStart?this.playToggle():(this.playGo(),this.playSound(!0))}},{key:"removed",value:function(){this.globalConfig.main.cachePool.pushText(this.txt),this.removeChild(this.txt),this.txt=null,this.removedCursor(this.top),this.removedCursor(this.right),l.M.removeTouch(this.top,this.topTouchId),l.M.removeTouch(this.right,this.rightTouchId),this.tic&&this.tic.stop(),this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"freshVolume",value:function(){this.globalConfig.VOLUME&&this.isStart&&this.is_animation_playing?this.sound||(this.sound=this.globalConfig.SoundTool.play(this.SoundStr.COMTIMER,!0)):this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"playSound",value:function(t){t?this.freshVolume():this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"playGo",value:function(){this.isStart=!0,this.is_animation_playing=!0,this.start_time=this.getCurrentTime(),this.preT=(new Date).getTime(),this.runT=0,this.isshowlabel&&(this.tline.visible=!0)}},{key:"playStop",value:function(){this.isStart=!1,this.is_animation_playing=!1,this.my_time=0,this.runT=0,this.preT=0,this.tic&&this.tic.stop(),this.freshShow(0),this.playSound(!1),this.tline.visible=!1,this.txt.text=""}},{key:"update",value:function(){if(this.is_animation_playing){if(this.globalConfig.isMec()&&!this.moduleMain.napeEngine.play)return void this.playSound(!1);this.sound||this.playSound(!0);this.freshShow(this.my_time+this.getTimeD())}}},{key:"playToggle",value:function(){this.is_animation_playing=!this.is_animation_playing,this.is_animation_playing?(this.start_time=this.getCurrentTime(),this.preT=(new Date).getTime(),this.runT=0,this.playSound(!0)):(this.my_time+=this.getTimeD(),this.playSound(!1))}},{key:"getTimeD",value:function(){var t=0;if(this.globalConfig.isMec()&&!this.timeType){if(null===this.start_time)return 0;t=this.getCurrentTime()-this.start_time}else{if(null===this.start_time)return 0;var e=(new Date).getTime(),i=e-this.preT;this.preT=e,this.runT+=i*this.timeRate,t=this.runT+this.start_time}return t}},{key:"getCurrentTime",value:function(){return this.globalConfig.isMec()&&!this.timeType?s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getCurrentTime",this).call(this):0}},{key:"freshShow",value:function(t){this.miao.rotation=t/3e4*Math.PI*2,this.fen.rotation=t/9e5*Math.PI*2;var e=""+l.M.getNumJie(t/1e3,this.jd);this.contains(e,".")||(e+=".");for(var i=e.slice(e.indexOf(".")).length-1;this.jd>i;)e+="0",i++;this.txt.text=e+"s"}},{key:"contains",value:function(t,e){return t.indexOf(e)>-1}},{key:"freshEquipShows",value:function(t){this.isshowlabel=t,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"freshEquipShows",this).call(this,t),this.txt.visible=t,this.isStart&&!t?this.tline.visible=!1:this.isStart&&t&&(this.tline.visible=!0)}},{key:"changeJd",value:function(t){this.jd=l.M.getNumStr(this.jdArr[t.checked])-0}},{key:"timeChanged",value:function(t){this.timeType=t.checked,this.playStop()}},{key:"selectRenderChild",value:function(){return this.bg.getBounds()}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.timeType=this.timeType,t}},{key:"setData",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.timeType=t.timeType||0}},{key:"setTimeValue",value:function(t){this.playStop(),this.playGo();var i=1e3*t.showValue;this.freshShow(i);var n=(new Date).getTime();this.runT=0,this.globalConfig.isMec()&&!this.timeType?this.start_time=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getCurrentTime",this).call(this)-i:(this.start_time=0,this.preT=n-i/this.timeRate),this.playToggle()}},{key:"toRandomValue",value:function(){this.setTimeValue({showValue:(600*Math.random()).toFixed(1)-0})}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);t.confArr=[];var i=this.language.getLocaleStr("wei");return t.confArr.push(this.ComponentProperty.getTextInput("指定示数",0,"",this.setTimeValue,this)),t.confArr.push(this.ComponentProperty.getButton("","随机示数",this.toRandomValue,this)),t.confArr.push(this.ComponentProperty.getRadio(this.language.getLocaleStr("accuracy"),l.ArrayUtil.getIndexFromValue(this.jdArr,this.jd+i),this.jdArr,this.changeJd.bind(this))),this.globalConfig.isMec()&&t.confArr.push(this.ComponentProperty.getRadio(this.language.getLocaleStr("type"),this.timeType,this.timeTypeArr,this.timeChanged.bind(this))),t}},{key:"getTipMess",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTipMess",this).call(this);return t+="\n    "+this.language.getLocaleStr("accuracy")+": "+(this.jd+this.language.getLocaleStr("wei"))+"\n    "+this.language.getLocaleStr("type")+": "+this.timeTypeArr[this.timeType]+"\n    "}}]),e}(h["default"])},578:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(49),h=i(456),c=function(t){return t&&t.__esModule?t:{"default":t}}(h);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.canGetDroper=!0,i.canGetTher=!0,i.canGetBoard=!0,i.canShowParticle=!0,i.isBei=!0,i.steamTx=50,i.bubbleTx=70,i.bubbleFenTx=98,i.maxTx1=99.5,i.maxTx2=100,i.bindTher=null,i.bindBoard=null,i.bindBrandreth=null,i.addNumSet=.02,i.subNumSet=-.001,i.addNum=i.subNumSet,i.waterSpeed=.1,i._curTx=0,i.isOpenFire=!1,i.addT=0,i.waterMass=200,i.waterMask=new PIXI.Graphics,i.originSanMCY=0,i.paoMask=null,i.brr=4.2,i}return o(e,t),a(e,[{key:"_init_particle",value:function(){var t=this;this._bubbleParticle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.bubbleParticle),this.add2component(this._bubbleParticle),this._bubbleParticle.x=-50,this._bubbleParticle.y=30,this._bubbleParticle._this=this,this._bubbleParticle.completeFunc=function(){t._bubbleParticle.particle.spawnRect.height=40,t._bubbleParticle.particle.maxParticles=0},this._steamParticle=null,this._steamParticle=this.ParticleUtil.getParticle(this.ParticleUtil.particles.water_vapor),this.add2component(this._steamParticle),this._steamParticle.x=-50,this._steamParticle.y=-50,this._steamParticle.completeFunc=function(){t._steamParticle.particle.maxParticles=0}}},{key:"curTxChangeEnd",value:function(){"Cold_water"===this.classname&&this.fresh_waterSpeed()}},{key:"fresh_waterSpeed",value:function(){this.waterSpeed=(this.curTx-20)/80*1.99+.01}},{key:"freshShowBubble",value:function(){this.freshTx()}},{key:"freshTx",value:function(){var t=0;this.isOpenFire=(0,u.get)(this,"bindBrandreth.bindBunsen.isOpenFire",!1),this.isOpenFire&&this.curTx>this.bubbleTx?(t=(this.curTx-this.bubbleTx)/(this.maxTx2-this.bubbleTx)*20,this.canShowParticle&&this.playShuiSound(!0)):(t=0,this.canShowParticle&&this.playShuiSound(!1)),this.canShowParticle&&this._bubbleParticle.particle&&(this._bubbleParticle.particle.maxParticles=t,this._bubbleParticle.particle.endScale=this.curTx>this.bubbleFenTx?3:.5);var e=0;e=this.curTx>this.steamTx?(this.curTx-50)/50*400+50:0,this.canShowParticle&&this._steamParticle.particle&&(this._steamParticle.particle.maxParticles=e),this.bindTher&&(this.bindTher.curTx=this.curTx,this.bindTher.freshTx())}},{key:"bindHandle",value:function(){this.bindTher&&this.bindBoard&&(this.bindBoard.visible=!1,this.bindTher.show_bindBoard(!0)),this.bindBrandreth&&this.bindBrandreth.freshWaterBindHandle.call(this.bindBrandreth)}},{key:"unBindHandle",value:function(){this.bindBoard&&(this.bindBoard.visible=!0),this.bindBrandreth&&this.bindBrandreth.freshWaterBindHandle.call(this.bindBrandreth,!0)}},{key:"dropperWaterHandle",value:function(t){var e=void 0;e=0===this.sanMC.currentFrame?this.sanMC:this.globalConfig.main.clone(this.sanMC),this.dopBox.addChild(e),e.loop=!1,e.animationSpeed=.03+(this.curTx-20)/80,e.play(),this.playSHUIDISound()}},{key:"addWaterMask",value:function(){this.water&&(this.originSanMCY=this.sanMC.y,this.waterMask.beginFill(255),this.waterMask.drawRect(-64.5,0,129,-153),this.waterMask.endFill(),this.addChild(this.waterMask),this.water.mask=this.waterMask,this.waterMask.x=this.water.x,this.waterMask.y=this.water.y,this.paoMask=new PIXI.Graphics,this.paoMask.beginFill(255),this.paoMask.drawRect(-64.5,0,129,-153),this.paoMask.endFill(),this.addChild(this.paoMask),this.paoMask.x=this.water.x,this.paoMask.y=this.water.y,this._bubbleParticle.mask=this.paoMask)}},{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.bg.loop=!1,this.bg.animationSpeed=this.waterSpeed,this._init_particle(),this.addWaterMask(),setTimeout(function(){t.hadDestory||(t.freshShowBubble(),t.freshTx())},50),this.fresh_waterSpeed(),this.dopBox=new PIXI.Sprite,this.addChild(this.dopBox),this.freshShowBubbleProx=this.freshShowBubble.bind(this),this.main.addEventListener("endFore",this.freshShowBubbleProx),this.main.addEventListener("endEnd",this.freshShowBubbleProx),this.changeMass({showValue:this.waterMass})}},{key:"addQ",value:function(t){this.addT+=t/(this.brr*this.waterMass)}},{key:"update",value:function(){var t=0,e=(0,u.get)(this,"bindBrandreth.bindBunsen");e&&e.isOpenFire?(t=this.curTx+this.addT,this.addT=0):t=this.curTx+this.subNumSet*this.timeRate,t=this.bindBoard?l.M.range(t,20,this.maxTx2):l.M.range(t,20,this.maxTx1),this.curTx!==t&&(this.curTx=t,this.freshTx(),this.bindTher&&(this.bindTher.curTx=this.curTx,this.bindTher.freshTx()))}},{key:"removed",value:function(){this.main.removeEventListener("endFore",this.freshShowBubbleProx),this.main.removeEventListener("endEnd",this.freshShowBubbleProx);try{this._bubbleParticle.destroy(),this._steamParticle.destroy()}catch(t){}s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"moveEnd",value:function(t){this.freshBindLocation()}},{key:"beginEnd",value:function(t){this.bindBrandreth&&(this.bindBrandreth.bindBei=null,this.bindBrandreth.bindHandle.call(this.bindBrandreth),this.bindBrandreth=null,this.addNum=this.subNumSet)}},{key:"endEnd",value:function(t){var e=this;if(!this.bindBrandreth){var i=this.getChildByClassInRadius(this,"Brandreth_table_B",200,new l.Point(18,102));i=i.concat(this.getChildByClassInRadius(this,"Tripod",150,new l.Point(0,-80))),each(i,function(t,i){if(!i.bindBei&&i.bindGauze)return e._toBindBrandreth(i),e.playXIFUSound(),!1},this)}}},{key:"_toBindBrandreth",value:function(t){t&&(t.bindBei=this,this.bindBrandreth=t,this.freshBindLocation(),this.bindBrandreth.bindHandle.call(this.bindBrandreth))}},{key:"freshBindLocation",value:function(t){if(this.bindTher&&this.bindTher.freshBindLocation(),this.bindBoard&&this.bindBoard.freshBindLocation(),this.parent&&this.bindBrandreth){var e=void 0;this.parent.parent.updateTransform(),e=this.bindBrandreth.bp?this.parent.parent.toLocal(this.bindBrandreth.bp,this.bindBrandreth):this.parent.parent.toLocal(new l.Point(0,-80),this.bindBrandreth),e.y-=75,e.x+=-8,l.M.setSPPoint(this.parent,e)}}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.curTx=this.curTx,this.bindBrandreth&&(t.bindBrandreth_UID=this.bindBrandreth.UID),t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&this.setData_obj.bindBrandreth_UID&&(this.bindBrandreth=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBrandreth_UID),this._toBindBrandreth(this.bindBrandreth)),this.curTx=this.setData_obj.curTx||0}},{key:"changeMass",value:function(t){if(this.waterMass=t.showValue,this.water){var e=this.waterMass/200;this.waterMask.height=33+120*e,this.sanMC.y=this.originSanMCY+120*(1-e),this._steamParticle.y=this.water.y-this.waterMask.height,this.paoMask.height=this.waterMask.height}}},{key:"getConf",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this)}},{key:"getTipMess",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getTipMess",this).call(this);return t+="\n    "+this.language.getLocaleStr("mass")+": "+this.waterMass+"g\n    "}},{key:"getLocalBoundsElecs",value:function(){return[this.bg]}},{key:"curTx",get:function(){return this._curTx},set:function(t){this._curTx=t,this.curTxChangeEnd()}}]),e}(c["default"])},684:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function c(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:c(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(456),h=function(t){return t&&t.__esModule?t:{"default":t}}(u);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.cover=null,i.bottle=null,i.coverAlp=null,i.hitP01=null,i.hitP02=null,i.isOpened=!1,i.coverP=new PIXI.Point(0,0),i.hitRect=new PIXI.Rectangle(-40,-40,80,80),i.rect=new PIXI.Rectangle(0,0,100,100),i.volume=80,i.totalVolume=100,i.liquidAlpha=.2,i.liquidColor=0,i.noChangeColor=!1,i}return o(e,t),a(e,[{key:"backgroundColorChange",value:function(t){this.noChangeColor||(this.liquidColor="#"===t.charAt(0)?"0x"+t.slice(1):t,this.updateSurface())}},{key:"added",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.rect=this.bottle.getLocalBounds().clone(),this.hitP01=this.bottle.hitP01,this.hitP02=this.bottle.hitP02,this.hitP01.alpha=0,this.hitP02.alpha=0,this.coverAlp.alpha=0,this.liquidShape=new PIXI.Graphics,this.bottle.addChildAt(this.liquidShape,0),this.addCursor(this.cover,"hand"),this.updateSurface(),this.coverAlp.getMScale=this.bottle.getMScale=function(){return t.main.view.scale},this.bottleDragID=l.M.addDrag(this.bottle,null,{begin:this.dragBeginBottle,move:this.dragMoveBottle,end:this.dragEndBottle},this),this.coverDragID=l.M.addDrag(this.coverAlp,null,{begin:this.dragBeginCover,move:this.dragMoveCover,end:this.dragEndCover},this),this.freshTxtColor()}},{key:"removed",value:function(){this.removedCursor(this.cover),this.coverAlp.getMScale=this.bottle.getMScale=null,l.M.removeDrag(this.bottle,this.bottleDragID),l.M.removeDrag(this.coverAlp,this.coverDragID),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"setVolume",value:function(t){this.volume=t,this.updateSurface()}},{key:"dragBeginBottle",value:function(t){this.cannotSystemDrag=!0,this.dp1=new PIXI.Point(this.bottle.x,this.bottle.y)}},{key:"dragMoveBottle",value:function(t){this.updateCoverByBottle()}},{key:"dragEndBottle",value:function(t){this.cannotSystemDrag=!1,this.isOpened&&this.checkPour()&&this.pour()}},{key:"checkPour",value:function(){return this.pourDir=Math.random()>.5?1:-1,!1}},{key:"pourBegin",value:function(){}},{key:"pourEnd",value:function(){}},{key:"pour",value:function(){var t=this;this.pourBegin();var e=new PIXI.Point;-1===this.pourDir?(e.x=this.hitP01.x-this.bottle.pivot.x,e.y=this.hitP01.y-this.bottle.pivot.y,this.bottle.pivot=new PIXI.Point(this.hitP01.x,this.hitP01.y)):(e.x=this.hitP02.x-this.bottle.pivot.x,e.y=this.hitP02.y-this.bottle.pivot.y,this.bottle.pivot=new PIXI.Point(this.hitP02.x,this.hitP02.y)),this.bottle.x+=e.x,this.bottle.y+=e.y,this.dp1.x+=e.x,this.dp1.y+=e.y,TweenMax.to(this.bottle,.5,{rotation:this.pourDir*Math.PI*.3,repeat:1,yoyo:!0,onUpdate:function(){t.pourUpdate(),t.updateSurface()},onComplete:function(){TweenLite.to(t.bottle,.2,{x:t.dp1.x,y:t.dp1.y}),t.pourEnd()}})}},{key:"pourUpdate",value:function(){}},{key:"updateSurface",value:function(){var t=this.rect.x,e=this.rect.y,i=this.rect.width,n=this.rect.height,r=n*this.volume/this.totalVolume;this.liquidShape&&(this.liquidShape.clear(),this.liquidShape.beginFill(this.liquidColor,this.liquidAlpha),this.liquidShape.drawRect(t,e+n-r,i,r),this.liquidShape.endFill())}},{key:"dragBeginCover",value:function(t){this.cannotSystemDrag=!0}},{key:"dragMoveCover",value:function(t){0!==this.coverAlp.rotation&&this.coverTweenRotation(0),this.cover.x=this.coverAlp.x,this.cover.y=this.coverAlp.y}},{key:"dragEndCover",value:function(t){this.cannotSystemDrag=!1;var e=new PIXI.Point(this.coverAlp.x-this.bottle.x+this.bottle.pivot.x,this.coverAlp.y-this.bottle.y+this.bottle.pivot.y);this.hitRect.contains(e.x,e.y)?(this.close(),this.closeCallBack()):this.open()}},{key:"closeCallBack",value:function(){}},{key:"close",value:function(){this.isOpened=!1,this.updateCoverByBottle(),0!==this.coverAlp.rotation&&this.coverTweenRotation(0)}},{key:"open",value:function(){this.isOpened=!0,this.coverAlp.rotation!==Math.PI&&this.coverTweenRotation(Math.PI)}},{key:"coverTweenRotation",value:function(t){var e=this;TweenLite.to(this.coverAlp,.2,{rotation:t,onUpdate:function(){e.cover.rotation=e.coverAlp.rotation}})}},{key:"updateCoverByBottle",value:function(){this.isOpened||(this.coverAlp.x=this.cover.x=this.bottle.x-this.bottle.pivot.x+this.coverP.x,this.coverAlp.y=this.cover.y=this.bottle.y-this.bottle.pivot.y+this.coverP.y)}},{key:"bottleMoveBy",value:function(t){this.bottle.x+=t.x,this.bottle.y+=t.y,this.updateCoverByBottle()}},{key:"bottleMoveTo",value:function(t){this.bottle.x=t.x+this.bottle.pivot.x,this.bottle.y=t.y+this.bottle.pivot.y,this.updateCoverByBottle()}},{key:"updatePivot",value:function(){var t=this.bottle.x-this.bottle.pivot.x,e=this.bottle.y-this.bottle.pivot.y;this.x+=t,this.y+=e,this.bottle.x-=t,this.bottle.y-=e,this.coverAlp.x-=t,this.coverAlp.y-=e,this.cover.x=this.coverAlp.x,this.cover.y=this.coverAlp.y}},{key:"selectRenderChild",value:function(){return this.updateTransform(),this.bottle.getBounds()}}]),e}(h["default"])},685:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(34),u=n(l),h=i(456),c=n(h);e["default"]=function(t){function e(t){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.bindBrandreth=null,i.startT=0,i.preT=0,i.isOpenFire=!1,i.oneFireQ=.28,i.rlRate=.3,i.rlMass=1e4,i.rzQ=[3e4,46e3,15e3,34e3,12e3,3e4],i.curtRlIndex=0,i.timeRate=isNaN(i.main.globalConfig.TIME_RATE)?1:i.main.globalConfig.TIME_RATE,i}return a(e,t),s(e,[{key:"update",value:function(){if(this.isOpenFire){var t=this.getTime(),e=(t-this.preT)*this.timeRate;this.preT=t;var i=this.oneFireQ*this.rzQ[this.curtRlIndex]/this.rzQ[0],n=this.rlMass*this.rzQ[this.curtRlIndex],r=e*i*this.rlRate;if(i*(t-this.startT)*this.timeRate>=n)return this.rlMass=0,this.preT=0,void this.openFire(!1);var o=(0,u["default"])(this,"bindBrandreth.bindBei");!o&&this.bindBrandreth&&"SensorTempAndPascal"==this.bindBrandreth.classname&&(o=this.bindBrandreth),o&&o.addQ&&o.addQ(r)}}},{key:"getTime",value:function(){return(new Date).getTime()}},{key:"openFire",value:function(t){t&&(this.startT=this.getTime(),this.preT=this.startT)}}]),e}(c["default"])},686:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:h(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(687),u=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.rongNum=50,i.tNum=0,i.lcType=0,i.timeRate=isNaN(i.main.globalConfig.TIME_RATE)?1:i.main.globalConfig.TIME_RATE,i}return o(e,t),a(e,[{key:"added",value:function(){this.line=this.bg.line,this.bg.zhe.currentFrame=0,this.bg2.zhe.currentFrame=0;var t=new PIXI.Graphics;t.beginFill(16711680,.5),t.drawCircle(this.zoom2.x+9,this.zoom2.y,89),t.endFill(),this.addChild(t),this.bg2.mask=t,this.bg.pao.loop=!1,this.bg2.pao.loop=!1,this.skinSmall=this.bg.alphaSP,this.skinBig=this.thermometer,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this)}},{key:"beginEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"beginEnd",this).call(this,t),this.bg.zhe.currentFrame=0}},{key:"endEnd",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endEnd",this).call(this,t),this.bindBei&&("Cold_water"===this.bindBei.classname||"Hot_water"===this.bindBei.classname?this.bg.zhe.currentFrame=1:"Cold_fat"===this.bindBei.classname&&(this.bg.zhe.currentFrame=2))}},{key:"update",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t),this.bg2.line.height=this.bg.line.height}},{key:"show_zoom",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show_zoom",this).call(this,t),this.bg2.mask.visible=this.bg2.visible=this.zoom2.visible=t}},{key:"checkCanBind",value:function(t){return t.isBei&&!t.bindTher&&!t.bindBoard&&t.canGetTher}}]),e}(u["default"])},687:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===undefined){var r=Object.getPrototypeOf(t);return null===r?undefined:p(r,e,i)}if("value"in n)return n.value;var o=n.get;return o===undefined?undefined:o.call(i)},l=i(1),u=i(49),h=i(456),c=function(t){return t&&t.__esModule?t:{"default":t}}(h);e["default"]=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._curTx=20,i.trueT=i.curTx,i.isstop=!1,i.bindBei=null,i._to_line_h=null,i.thermometer_y=null,i.level=6,i.liangchengArr=["-20~110℃","0~200℃"],i.lcType=0,i.lcDatas=[{lc:110,range1:[236,716],range2:[107,258],rangeT:[20,100],minT:-40,maxT:136},{lc:200,range1:[46,446],range2:[61,222],rangeT:[20,100],minT:-10,maxT:220}],i}return o(e,t),a(e,[{key:"freshTx",value:function(){this.updateThermometerY(!1)}},{key:"updateThermometerY",value:function(t){this.thermometer_y=this.getYByT(this.curTx),t&&(this.thermometer.y=this.thermometer_y)}},{key:"updateRedLine",value:function(){if(this.line){this.line.height=this.getHByT(this.getTByY(this.thermometer.y))}}},{key:"getYByT",value:function(t){var e=this.lcDatas[this.lcType];return this.linearMap(e.range1[0],e.range1[1],e.rangeT[0],e.rangeT[1],t)}},{key:"getTByY",value:function(t){var e=this.lcDatas[this.lcType];return this.linearMap(e.rangeT[0],e.rangeT[1],e.range1[0],e.range1[1],t)}},{key:"getHByT",value:function(t){var e=this.lcDatas[this.lcType];return this.linearMap(e.range2[0],e.range2[1],e.rangeT[0],e.rangeT[1],t)}},{key:"getTBYH",value:function(t){var e=this.lcDatas[this.lcType];return this.linearMap(e.rangeT[0],e.rangeT[1],e.range2[0],e.range2[1],t)}},{key:"linearMap",value:function(t,e,i,n,r){return t+(e-t)*(r-i)/(n-i)}},{key:"limitAB",value:function(t,e,i){return e>t?e:t>i?i:t}},{key:"show_bindBoard",value:function(t){this.front&&this.back&&(this.front.visible=this.back.visible=t)}},{key:"show_zoom",value:function(t){this.thermometer.mask.visible=this.thermometer.visible=this.zoom.visible=t}},{key:"added",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.liangchengChanged({checked:this.lcType});var t=new PIXI.Graphics;t.beginFill(16711680,.5),t.drawCircle(178,-122,123),t.endFill(),this.addChild(t),this.thermometer.mask=t,this.freshTx(),this.show_bindBoard(!1),this.updateThermometerY(!0),this.show_zoom(!1)}},{key:"update",value:function(t){if(this._curTx!=this.trueT){var e=this.trueT-this._curTx;if(.5>Math.abs(e))this._curTx=this.trueT;else{var i=.005*e;i>0&&.1>i?i=.1:0>i&&i>-.1&&(i=-.1),this._curTx+=i}}this.updateThermometerY(!0),this.updateRedLine();var n=this.lcDatas[this.lcType];this.line.height=this.limitAB(this.line.height,this.getHByT(n.minT),this.getHByT(n.maxT)),this.thermometer.y=this.limitAB(this.thermometer.y,this.getYByT(n.minT),this.getYByT(n.maxT))}},{key:"beginEnd",value:function(t){this.bindBei&&(this.show_bindBoard(!1),this.bindBei.unBindHandle(),this.bindBei.bindTher=null,this.bindBei=null,this.curTx=20,this.freshTx(),this.show_zoom(!1))}},{key:"endEnd",value:function(t){var e=this;if(!this.bindBei){var i=this.main.getEquipmentArr();each(i,function(t,i){if(e._toBindBei(i.component))return!1},this)}}},{key:"_toBindBei",value:function(t){if(!t)return!1;if(this.checkCanBind(t)){var e=this.toGlobalView(new l.Point,this),i=this.toGlobalView(new l.Point,t),n=e.x-i.x,r=e.y-i.y;if(n>-60&&70>n&&r>-270&&161>r)return this.bindBei=t,this.bindBei.bindTher=this,this.freshBindLocation(),this.bindBei.freshTx(),this.show_zoom(!0),this.playXIFUSound(),this.freshShowType(),!0}return!1}},{key:"freshShowType",value:function(){this.bindBei.bindHandle.call(this.bindBei)}},{key:"checkCanBind",value:function(t){return t.isBei&&!t.bindTher&&t.canGetTher}},{key:"freshBindLocation",value:function(t){if(this.bindBei.bindBrandreth){var e=void 0;if(!this.bindBei)return;if(!this.bindBei.parent)return;this.bindBei.parent.parent.updateTransform(),"Brandreth_table_B"==this.bindBei.bindBrandreth.classname?(e=this.bindBei.parent.parent.toLocal(this.bindBei.bindBrandreth.bp,this.bindBei.bindBrandreth),e.y+=-220,e.x+=2):(e=this.bindBei.parent.parent.toLocal(new l.Point(0,0),this.bindBei.bindBrandreth),e.y+=-300),l.M.setSPPoint(this.parent,e)}else{l.M.setSPPointXY(this.parent,this.bindBei.parent.x+13,this.bindBei.parent.y-145)}}},{key:"removed",value:function(){this.bindBei&&this.beginEnd(null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"liangchengChanged",value:function(t){this.lcType=t.checked,this.skinSmall.gotoAndStop(this.lcType),this.skinBig.gotoAndStop(this.lcType),this.updateThermometerY(!0);var e=(0,u.get)(this,"bindBei.bindBrandreth");e&&e.freshShowSX&&e.freshShowSX()}},{key:"getData",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return this.bindBei&&(t.bindBei_UID=this.bindBei.UID),t.lcType=this.lcType,t}},{key:"setDataOver",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.liangchengChanged({checked:(0,u.get)(t,"lcType",this.lcType)}),this.setData_obj&&this.setData_obj.bindBei_UID&&(this.bindBei=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindBei_UID),this._toBindBei(this.bindBei))}},{key:"pauseChanged",value:function(t){this.isstop=t.checked,this.moduleMain.timerStop=!!this.isstop}},{key:"getConf",value:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return t.confArr.push(this.ComponentProperty.getRadio(this.language.getLocaleStr("range"),this.lcType,this.liangchengArr,this.liangchengChanged,this)),t.confArr.push(this.getSwitch(["暂停",this.isstop,this.pauseChanged,this])),t}},{key:"curTx",set:function(t){this.trueT=t},get:function(){return this._curTx}}]),e}(c["default"])}});