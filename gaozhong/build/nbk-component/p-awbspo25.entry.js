import{r as t,h as s}from"./p-05c16912.js";const i=class{constructor(s){t(this,s),this.currentlist=[],this.rowCount=4,this.gap=10,this.timer=null,this.dataIsUpdate=!1,this.rd=Math.random()}windowresize(){let t=Math.max(document.documentElement.clientWidth,1024),s=t>=1920?348:t>=1280?287:231;t-=60,this.rowCount=Math.floor((t+10)/(s+10))||4,this.gap=(t-s*this.rowCount)/(this.rowCount-1),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.rd=Math.random()},500)}dataChangeHandler(){this.dataIsUpdate=!0}componentWillLoad(){this.windowresize()}componentDidLoad(){}componentDidUpdate(){this.dataIsUpdate&&(this.dataIsUpdate=!1,this.rd=Math.random())}addthumbnails(){let t=Math.floor(this.currentlist.length/this.rowCount);this.currentlist.length%this.rowCount==0&&t--;const i=t*this.rowCount;return this.currentlist.map((e,h)=>{let a=15;h%this.rowCount!=0&&(a=this.gap-5);let n=!1;return h>=i&&t>1&&(n=!0),s("template-thumbnail",{mleft:a,tmpdata:e,upmenu:n})})}addLoading(){if(this.dataIsUpdate)return s("img",{class:"loading",src:"assets/imgs/stmp/spinner.gif"})}render(){return s("div",null,s("div",{class:this.dataIsUpdate?"box-hide":"box-show"},this.addthumbnails()),this.addLoading(),s("div",null,s("slot",{name:"not-find"})))}static get assetsDirs(){return["assets"]}static get watchers(){return{currentlist:["dataChangeHandler"]}}static get style(){return":host{position:absolute;top:60px;left:0;width:100%;-webkit-transition:top .3s;transition:top .3s}.box-hide{opacity:0}.box-show{opacity:1;-webkit-transition:opacity .5s;transition:opacity .5s}.loading{position:absolute;left:50%;top:0;margin-top:180px}"}};export{i as template_list};